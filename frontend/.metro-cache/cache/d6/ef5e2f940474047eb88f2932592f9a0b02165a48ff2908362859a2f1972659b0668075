{"dependencies":[{"name":"domhandler","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":19,"index":183},"end":{"line":4,"column":40,"index":204}}],"key":"f5LnrKpjJRzkG16BHIFRqK+96ok=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.uniqueSort = exports.compareDocumentPosition = exports.removeSubsets = void 0;\n  var domhandler_1 = require(_dependencyMap[0], \"domhandler\");\n  /**\n   * Given an array of nodes, remove any member that is contained by another.\n   *\n   * @param nodes Nodes to filter.\n   * @returns Remaining nodes that aren't subtrees of each other.\n   */\n  function removeSubsets(nodes) {\n    var idx = nodes.length;\n    /*\n     * Check if each node (or one of its ancestors) is already contained in the\n     * array.\n     */\n    while (--idx >= 0) {\n      var node = nodes[idx];\n      /*\n       * Remove the node if it is not unique.\n       * We are going through the array from the end, so we only\n       * have to check nodes that preceed the node under consideration in the array.\n       */\n      if (idx > 0 && nodes.lastIndexOf(node, idx - 1) >= 0) {\n        nodes.splice(idx, 1);\n        continue;\n      }\n      for (var ancestor = node.parent; ancestor; ancestor = ancestor.parent) {\n        if (nodes.includes(ancestor)) {\n          nodes.splice(idx, 1);\n          break;\n        }\n      }\n    }\n    return nodes;\n  }\n  exports.removeSubsets = removeSubsets;\n  /**\n   * Compare the position of one node against another node in any other document.\n   * The return value is a bitmask with the following values:\n   *\n   * Document order:\n   * > There is an ordering, document order, defined on all the nodes in the\n   * > document corresponding to the order in which the first character of the\n   * > XML representation of each node occurs in the XML representation of the\n   * > document after expansion of general entities. Thus, the document element\n   * > node will be the first node. Element nodes occur before their children.\n   * > Thus, document order orders element nodes in order of the occurrence of\n   * > their start-tag in the XML (after expansion of entities). The attribute\n   * > nodes of an element occur after the element and before its children. The\n   * > relative order of attribute nodes is implementation-dependent./\n   *\n   * Source:\n   * http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n   *\n   * @param nodeA The first node to use in the comparison\n   * @param nodeB The second node to use in the comparison\n   * @returns A bitmask describing the input nodes' relative position.\n   *\n   * See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n   * a description of these values.\n   */\n  function compareDocumentPosition(nodeA, nodeB) {\n    var aParents = [];\n    var bParents = [];\n    if (nodeA === nodeB) {\n      return 0;\n    }\n    var current = (0, domhandler_1.hasChildren)(nodeA) ? nodeA : nodeA.parent;\n    while (current) {\n      aParents.unshift(current);\n      current = current.parent;\n    }\n    current = (0, domhandler_1.hasChildren)(nodeB) ? nodeB : nodeB.parent;\n    while (current) {\n      bParents.unshift(current);\n      current = current.parent;\n    }\n    var maxIdx = Math.min(aParents.length, bParents.length);\n    var idx = 0;\n    while (idx < maxIdx && aParents[idx] === bParents[idx]) {\n      idx++;\n    }\n    if (idx === 0) {\n      return 1 /* DISCONNECTED */;\n    }\n    var sharedParent = aParents[idx - 1];\n    var siblings = sharedParent.children;\n    var aSibling = aParents[idx];\n    var bSibling = bParents[idx];\n    if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n      if (sharedParent === nodeB) {\n        return 4 /* FOLLOWING */ | 16 /* CONTAINED_BY */;\n      }\n      return 4 /* FOLLOWING */;\n    }\n    if (sharedParent === nodeA) {\n      return 2 /* PRECEDING */ | 8 /* CONTAINS */;\n    }\n    return 2 /* PRECEDING */;\n  }\n  exports.compareDocumentPosition = compareDocumentPosition;\n  /**\n   * Sort an array of nodes based on their relative position in the document and\n   * remove any duplicate nodes. If the array contains nodes that do not belong\n   * to the same document, sort order is unspecified.\n   *\n   * @param nodes Array of DOM nodes.\n   * @returns Collection of unique nodes, sorted in document order.\n   */\n  function uniqueSort(nodes) {\n    nodes = nodes.filter(function (node, i, arr) {\n      return !arr.includes(node, i + 1);\n    });\n    nodes.sort(function (a, b) {\n      var relative = compareDocumentPosition(a, b);\n      if (relative & 2 /* PRECEDING */) {\n        return -1;\n      } else if (relative & 4 /* FOLLOWING */) {\n        return 1;\n      }\n      return 0;\n    });\n    return nodes;\n  }\n  exports.uniqueSort = uniqueSort;\n});","lineCount":131,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"uniqueSort"],[7,20,3,18],[7,23,3,21,"exports"],[7,30,3,28],[7,31,3,29,"compareDocumentPosition"],[7,54,3,52],[7,57,3,55,"exports"],[7,64,3,62],[7,65,3,63,"removeSubsets"],[7,78,3,76],[7,81,3,79],[7,86,3,84],[7,87,3,85],[8,2,4,0],[8,6,4,4,"domhandler_1"],[8,18,4,16],[8,21,4,19,"require"],[8,28,4,26],[8,29,4,26,"_dependencyMap"],[8,43,4,26],[8,60,4,39],[8,61,4,40],[9,2,5,0],[10,0,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,2,11,0],[15,11,11,9,"removeSubsets"],[15,24,11,22,"removeSubsets"],[15,25,11,23,"nodes"],[15,30,11,28],[15,32,11,30],[16,4,12,4],[16,8,12,8,"idx"],[16,11,12,11],[16,14,12,14,"nodes"],[16,19,12,19],[16,20,12,20,"length"],[16,26,12,26],[17,4,13,4],[18,0,14,0],[19,0,15,0],[20,0,16,0],[21,4,17,4],[21,11,17,11],[21,13,17,13,"idx"],[21,16,17,16],[21,20,17,20],[21,21,17,21],[21,23,17,23],[22,6,18,8],[22,10,18,12,"node"],[22,14,18,16],[22,17,18,19,"nodes"],[22,22,18,24],[22,23,18,25,"idx"],[22,26,18,28],[22,27,18,29],[23,6,19,8],[24,0,20,0],[25,0,21,0],[26,0,22,0],[27,0,23,0],[28,6,24,8],[28,10,24,12,"idx"],[28,13,24,15],[28,16,24,18],[28,17,24,19],[28,21,24,23,"nodes"],[28,26,24,28],[28,27,24,29,"lastIndexOf"],[28,38,24,40],[28,39,24,41,"node"],[28,43,24,45],[28,45,24,47,"idx"],[28,48,24,50],[28,51,24,53],[28,52,24,54],[28,53,24,55],[28,57,24,59],[28,58,24,60],[28,60,24,62],[29,8,25,12,"nodes"],[29,13,25,17],[29,14,25,18,"splice"],[29,20,25,24],[29,21,25,25,"idx"],[29,24,25,28],[29,26,25,30],[29,27,25,31],[29,28,25,32],[30,8,26,12],[31,6,27,8],[32,6,28,8],[32,11,28,13],[32,15,28,17,"ancestor"],[32,23,28,25],[32,26,28,28,"node"],[32,30,28,32],[32,31,28,33,"parent"],[32,37,28,39],[32,39,28,41,"ancestor"],[32,47,28,49],[32,49,28,51,"ancestor"],[32,57,28,59],[32,60,28,62,"ancestor"],[32,68,28,70],[32,69,28,71,"parent"],[32,75,28,77],[32,77,28,79],[33,8,29,12],[33,12,29,16,"nodes"],[33,17,29,21],[33,18,29,22,"includes"],[33,26,29,30],[33,27,29,31,"ancestor"],[33,35,29,39],[33,36,29,40],[33,38,29,42],[34,10,30,16,"nodes"],[34,15,30,21],[34,16,30,22,"splice"],[34,22,30,28],[34,23,30,29,"idx"],[34,26,30,32],[34,28,30,34],[34,29,30,35],[34,30,30,36],[35,10,31,16],[36,8,32,12],[37,6,33,8],[38,4,34,4],[39,4,35,4],[39,11,35,11,"nodes"],[39,16,35,16],[40,2,36,0],[41,2,37,0,"exports"],[41,9,37,7],[41,10,37,8,"removeSubsets"],[41,23,37,21],[41,26,37,24,"removeSubsets"],[41,39,37,37],[42,2,38,0],[43,0,39,0],[44,0,40,0],[45,0,41,0],[46,0,42,0],[47,0,43,0],[48,0,44,0],[49,0,45,0],[50,0,46,0],[51,0,47,0],[52,0,48,0],[53,0,49,0],[54,0,50,0],[55,0,51,0],[56,0,52,0],[57,0,53,0],[58,0,54,0],[59,0,55,0],[60,0,56,0],[61,0,57,0],[62,0,58,0],[63,0,59,0],[64,0,60,0],[65,0,61,0],[66,0,62,0],[67,2,63,0],[67,11,63,9,"compareDocumentPosition"],[67,34,63,32,"compareDocumentPosition"],[67,35,63,33,"nodeA"],[67,40,63,38],[67,42,63,40,"nodeB"],[67,47,63,45],[67,49,63,47],[68,4,64,4],[68,8,64,8,"aParents"],[68,16,64,16],[68,19,64,19],[68,21,64,21],[69,4,65,4],[69,8,65,8,"bParents"],[69,16,65,16],[69,19,65,19],[69,21,65,21],[70,4,66,4],[70,8,66,8,"nodeA"],[70,13,66,13],[70,18,66,18,"nodeB"],[70,23,66,23],[70,25,66,25],[71,6,67,8],[71,13,67,15],[71,14,67,16],[72,4,68,4],[73,4,69,4],[73,8,69,8,"current"],[73,15,69,15],[73,18,69,18],[73,19,69,19],[73,20,69,20],[73,22,69,22,"domhandler_1"],[73,34,69,34],[73,35,69,35,"hasChildren"],[73,46,69,46],[73,48,69,48,"nodeA"],[73,53,69,53],[73,54,69,54],[73,57,69,57,"nodeA"],[73,62,69,62],[73,65,69,65,"nodeA"],[73,70,69,70],[73,71,69,71,"parent"],[73,77,69,77],[74,4,70,4],[74,11,70,11,"current"],[74,18,70,18],[74,20,70,20],[75,6,71,8,"aParents"],[75,14,71,16],[75,15,71,17,"unshift"],[75,22,71,24],[75,23,71,25,"current"],[75,30,71,32],[75,31,71,33],[76,6,72,8,"current"],[76,13,72,15],[76,16,72,18,"current"],[76,23,72,25],[76,24,72,26,"parent"],[76,30,72,32],[77,4,73,4],[78,4,74,4,"current"],[78,11,74,11],[78,14,74,14],[78,15,74,15],[78,16,74,16],[78,18,74,18,"domhandler_1"],[78,30,74,30],[78,31,74,31,"hasChildren"],[78,42,74,42],[78,44,74,44,"nodeB"],[78,49,74,49],[78,50,74,50],[78,53,74,53,"nodeB"],[78,58,74,58],[78,61,74,61,"nodeB"],[78,66,74,66],[78,67,74,67,"parent"],[78,73,74,73],[79,4,75,4],[79,11,75,11,"current"],[79,18,75,18],[79,20,75,20],[80,6,76,8,"bParents"],[80,14,76,16],[80,15,76,17,"unshift"],[80,22,76,24],[80,23,76,25,"current"],[80,30,76,32],[80,31,76,33],[81,6,77,8,"current"],[81,13,77,15],[81,16,77,18,"current"],[81,23,77,25],[81,24,77,26,"parent"],[81,30,77,32],[82,4,78,4],[83,4,79,4],[83,8,79,8,"maxIdx"],[83,14,79,14],[83,17,79,17,"Math"],[83,21,79,21],[83,22,79,22,"min"],[83,25,79,25],[83,26,79,26,"aParents"],[83,34,79,34],[83,35,79,35,"length"],[83,41,79,41],[83,43,79,43,"bParents"],[83,51,79,51],[83,52,79,52,"length"],[83,58,79,58],[83,59,79,59],[84,4,80,4],[84,8,80,8,"idx"],[84,11,80,11],[84,14,80,14],[84,15,80,15],[85,4,81,4],[85,11,81,11,"idx"],[85,14,81,14],[85,17,81,17,"maxIdx"],[85,23,81,23],[85,27,81,27,"aParents"],[85,35,81,35],[85,36,81,36,"idx"],[85,39,81,39],[85,40,81,40],[85,45,81,45,"bParents"],[85,53,81,53],[85,54,81,54,"idx"],[85,57,81,57],[85,58,81,58],[85,60,81,60],[86,6,82,8,"idx"],[86,9,82,11],[86,11,82,13],[87,4,83,4],[88,4,84,4],[88,8,84,8,"idx"],[88,11,84,11],[88,16,84,16],[88,17,84,17],[88,19,84,19],[89,6,85,8],[89,13,85,15],[89,14,85,16],[89,15,85,17],[90,4,86,4],[91,4,87,4],[91,8,87,8,"sharedParent"],[91,20,87,20],[91,23,87,23,"aParents"],[91,31,87,31],[91,32,87,32,"idx"],[91,35,87,35],[91,38,87,38],[91,39,87,39],[91,40,87,40],[92,4,88,4],[92,8,88,8,"siblings"],[92,16,88,16],[92,19,88,19,"sharedParent"],[92,31,88,31],[92,32,88,32,"children"],[92,40,88,40],[93,4,89,4],[93,8,89,8,"aSibling"],[93,16,89,16],[93,19,89,19,"aParents"],[93,27,89,27],[93,28,89,28,"idx"],[93,31,89,31],[93,32,89,32],[94,4,90,4],[94,8,90,8,"bSibling"],[94,16,90,16],[94,19,90,19,"bParents"],[94,27,90,27],[94,28,90,28,"idx"],[94,31,90,31],[94,32,90,32],[95,4,91,4],[95,8,91,8,"siblings"],[95,16,91,16],[95,17,91,17,"indexOf"],[95,24,91,24],[95,25,91,25,"aSibling"],[95,33,91,33],[95,34,91,34],[95,37,91,37,"siblings"],[95,45,91,45],[95,46,91,46,"indexOf"],[95,53,91,53],[95,54,91,54,"bSibling"],[95,62,91,62],[95,63,91,63],[95,65,91,65],[96,6,92,8],[96,10,92,12,"sharedParent"],[96,22,92,24],[96,27,92,29,"nodeB"],[96,32,92,34],[96,34,92,36],[97,8,93,12],[97,15,93,19],[97,16,93,20],[97,17,93,21],[97,35,93,39],[97,37,93,41],[97,38,93,42],[98,6,94,8],[99,6,95,8],[99,13,95,15],[99,14,95,16],[99,15,95,17],[100,4,96,4],[101,4,97,4],[101,8,97,8,"sharedParent"],[101,20,97,20],[101,25,97,25,"nodeA"],[101,30,97,30],[101,32,97,32],[102,6,98,8],[102,13,98,15],[102,14,98,16],[102,15,98,17],[102,33,98,35],[102,34,98,36],[102,35,98,37],[103,4,99,4],[104,4,100,4],[104,11,100,11],[104,12,100,12],[104,13,100,13],[105,2,101,0],[106,2,102,0,"exports"],[106,9,102,7],[106,10,102,8,"compareDocumentPosition"],[106,33,102,31],[106,36,102,34,"compareDocumentPosition"],[106,59,102,57],[107,2,103,0],[108,0,104,0],[109,0,105,0],[110,0,106,0],[111,0,107,0],[112,0,108,0],[113,0,109,0],[114,0,110,0],[115,2,111,0],[115,11,111,9,"uniqueSort"],[115,21,111,19,"uniqueSort"],[115,22,111,20,"nodes"],[115,27,111,25],[115,29,111,27],[116,4,112,4,"nodes"],[116,9,112,9],[116,12,112,12,"nodes"],[116,17,112,17],[116,18,112,18,"filter"],[116,24,112,24],[116,25,112,25],[116,35,112,35,"node"],[116,39,112,39],[116,41,112,41,"i"],[116,42,112,42],[116,44,112,44,"arr"],[116,47,112,47],[116,49,112,49],[117,6,112,51],[117,13,112,58],[117,14,112,59,"arr"],[117,17,112,62],[117,18,112,63,"includes"],[117,26,112,71],[117,27,112,72,"node"],[117,31,112,76],[117,33,112,78,"i"],[117,34,112,79],[117,37,112,82],[117,38,112,83],[117,39,112,84],[118,4,112,86],[118,5,112,87],[118,6,112,88],[119,4,113,4,"nodes"],[119,9,113,9],[119,10,113,10,"sort"],[119,14,113,14],[119,15,113,15],[119,25,113,25,"a"],[119,26,113,26],[119,28,113,28,"b"],[119,29,113,29],[119,31,113,31],[120,6,114,8],[120,10,114,12,"relative"],[120,18,114,20],[120,21,114,23,"compareDocumentPosition"],[120,44,114,46],[120,45,114,47,"a"],[120,46,114,48],[120,48,114,50,"b"],[120,49,114,51],[120,50,114,52],[121,6,115,8],[121,10,115,12,"relative"],[121,18,115,20],[121,21,115,23],[121,22,115,24],[121,23,115,25],[121,40,115,42],[122,8,116,12],[122,15,116,19],[122,16,116,20],[122,17,116,21],[123,6,117,8],[123,7,117,9],[123,13,118,13],[123,17,118,17,"relative"],[123,25,118,25],[123,28,118,28],[123,29,118,29],[123,30,118,30],[123,47,118,47],[124,8,119,12],[124,15,119,19],[124,16,119,20],[125,6,120,8],[126,6,121,8],[126,13,121,15],[126,14,121,16],[127,4,122,4],[127,5,122,5],[127,6,122,6],[128,4,123,4],[128,11,123,11,"nodes"],[128,16,123,16],[129,2,124,0],[130,2,125,0,"exports"],[130,9,125,7],[130,10,125,8,"uniqueSort"],[130,20,125,18],[130,23,125,21,"uniqueSort"],[130,33,125,31],[131,0,125,32],[131,3]],"functionMap":{"names":["<global>","removeSubsets","compareDocumentPosition","uniqueSort","nodes.filter$argument_0","nodes.sort$argument_0"],"mappings":"AAA;ACU;CDyB;AE2B;CFsC;AGU;yBCC,8DD;eEC;KFS;CHE"},"hasCjsExports":true},"type":"js/module"}]}