{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@native-html/css-processor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":5,"column":36,"index":126}}],"key":"P8aWuJqDxvknLVN9kq5aqn9wnRI=","exportNames":["*"],"imports":1}},{"name":"./TStyles","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":241},"end":{"line":8,"column":36,"index":277}}],"key":"BV9hdq75aHexZgbgPuFJ1MOVlFY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"emptyProcessedPropsReg\", {\n    enumerable: true,\n    get: function () {\n      return emptyProcessedPropsReg;\n    }\n  });\n  Object.defineProperty(exports, \"TStylesMerger\", {\n    enumerable: true,\n    get: function () {\n      return TStylesMerger;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _nativeHtmlCssProcessor = require(_dependencyMap[2], \"@native-html/css-processor\");\n  var CSSProcessor = _interopDefault(_nativeHtmlCssProcessor);\n  var _TStyles = require(_dependencyMap[3], \"./TStyles\");\n  var emptyProcessedPropsReg = new _nativeHtmlCssProcessor.CSSProcessedProps();\n  function mapMixedStyleRecordToCSSProcessedPropsReg(processor, styles) {\n    var regStyles = {};\n    for (var key in styles) {\n      regStyles[key] = processor.compileStyleDeclaration(styles[key]);\n    }\n    return regStyles;\n  }\n\n  // Specificity hierarchy, in descending order:\n  // 1. Inline styles\n  // 2. ID (idsStyles)\n  // 3. Classes (classesStyles)\n  // 4. Element name (tagsStyles)\n  // 5. Attribute styles (styles derived from attributes)\n  // 6. Default element styles\n  // 7. Inherited styles (baseFontStyles)\n  var TStylesMerger = /*#__PURE__*/function () {\n    function TStylesMerger(config, modelRegistry, cssProcessorConfig) {\n      (0, _classCallCheck.default)(this, TStylesMerger);\n      this.processor = new CSSProcessor.default(cssProcessorConfig);\n      this.modelRegistry = modelRegistry;\n      this.classesStyles = mapMixedStyleRecordToCSSProcessedPropsReg(this.processor, config.classesStyles);\n      this.tagsStyles = mapMixedStyleRecordToCSSProcessedPropsReg(this.processor, config.tagsStyles);\n      this.idsStyles = mapMixedStyleRecordToCSSProcessedPropsReg(this.processor, config.idsStyles);\n      this.enableCSSInlineProcessing = config.enableCSSInlineProcessing;\n      this.enableUserAgentStyles = config.enableUserAgentStyles;\n    }\n    return (0, _createClass.default)(TStylesMerger, [{\n      key: \"compileInlineCSS\",\n      value: function compileInlineCSS(inlineCSS) {\n        return this.processor.compileInlineCSS(inlineCSS);\n      }\n    }, {\n      key: \"compileStyleDeclaration\",\n      value: function compileStyleDeclaration(styleDeclaration) {\n        return this.processor.compileStyleDeclaration(styleDeclaration);\n      }\n    }, {\n      key: \"buildStyles\",\n      value: function buildStyles(inlineStyle, parentStyles, descriptor) {\n        var ownInlinePropsReg = this.enableCSSInlineProcessing && inlineStyle ? this.compileInlineCSS(inlineStyle) : null;\n        var model = descriptor.tagName ? this.modelRegistry.getElementModelFromTagName(descriptor.tagName) : null;\n        var userTagOwnProps = this.tagsStyles[descriptor.tagName] ?? null;\n        var userIdOwnProps = this.idsStyles[descriptor.id] ?? null;\n        var classes = descriptor.classes;\n        var userClassesOwnPropsList = classes.map(c => this.classesStyles[c] || null);\n        var dynamicPropsFromAttributes = this.enableUserAgentStyles ? (model?.getMixedUAStyles?.(descriptor, descriptor.domNode) || null) ?? model?.getUADerivedStyleFromAttributes?.(descriptor.attributes, descriptor.markers) ?? null : null;\n        var userAgentTagProps = this.enableUserAgentStyles ? model?.mixedUAStyles ?? null : null;\n        // Latest properties will override former properties.\n        var mergedOwnProps = emptyProcessedPropsReg.merge(userAgentTagProps && this.processor.compileStyleDeclaration(userAgentTagProps), dynamicPropsFromAttributes && this.processor.compileStyleDeclaration(dynamicPropsFromAttributes), userTagOwnProps, ...userClassesOwnPropsList, userIdOwnProps, ownInlinePropsReg);\n        return new _TStyles.TStyles(mergedOwnProps, parentStyles);\n      }\n    }]);\n  }();\n});","lineCount":86,"map":[[12,2,11,0,"Object"],[12,8,11,0],[12,9,11,0,"defineProperty"],[12,23,11,0],[12,24,11,0,"exports"],[12,31,11,0],[13,4,11,0,"enumerable"],[13,14,11,0],[14,4,11,0,"get"],[14,7,11,0],[14,18,11,0,"get"],[14,19,11,0],[15,6,11,0],[15,13,11,0,"emptyProcessedPropsReg"],[15,35,11,0],[16,4,11,0],[17,2,11,0],[18,2,33,0,"Object"],[18,8,33,0],[18,9,33,0,"defineProperty"],[18,23,33,0],[18,24,33,0,"exports"],[18,31,33,0],[19,4,33,0,"enumerable"],[19,14,33,0],[20,4,33,0,"get"],[20,7,33,0],[20,18,33,0,"get"],[20,19,33,0],[21,6,33,0],[21,13,33,0,"TStylesMerger"],[21,26,33,0],[22,4,33,0],[23,2,33,0],[24,2,115,1],[24,6,115,1,"_babelRuntimeHelpersClassCallCheck"],[24,40,115,1],[24,43,115,1,"require"],[24,50,115,1],[24,51,115,1,"_dependencyMap"],[24,65,115,1],[25,2,115,1],[25,6,115,1,"_classCallCheck"],[25,21,115,1],[25,24,115,1,"_interopDefault"],[25,39,115,1],[25,40,115,1,"_babelRuntimeHelpersClassCallCheck"],[25,74,115,1],[26,2,115,1],[26,6,115,1,"_babelRuntimeHelpersCreateClass"],[26,37,115,1],[26,40,115,1,"require"],[26,47,115,1],[26,48,115,1,"_dependencyMap"],[26,62,115,1],[27,2,115,1],[27,6,115,1,"_createClass"],[27,18,115,1],[27,21,115,1,"_interopDefault"],[27,36,115,1],[27,37,115,1,"_babelRuntimeHelpersCreateClass"],[27,68,115,1],[28,2,1,0],[28,6,1,0,"_nativeHtmlCssProcessor"],[28,29,1,0],[28,32,1,0,"require"],[28,39,1,0],[28,40,1,0,"_dependencyMap"],[28,54,1,0],[29,2,1,0],[29,6,1,0,"CSSProcessor"],[29,18,1,0],[29,21,1,0,"_interopDefault"],[29,36,1,0],[29,37,1,0,"_nativeHtmlCssProcessor"],[29,60,1,0],[30,2,8,0],[30,6,8,0,"_TStyles"],[30,14,8,0],[30,17,8,0,"require"],[30,24,8,0],[30,25,8,0,"_dependencyMap"],[30,39,8,0],[31,2,11,7],[31,6,11,13,"emptyProcessedPropsReg"],[31,28,11,54],[31,31,12,2],[31,35,12,6,"CSSProcessedProps"],[31,58,12,23],[31,59,12,23,"CSSProcessedProps"],[31,76,12,23],[31,77,12,24],[31,78,12,25],[32,2,14,0],[32,11,14,9,"mapMixedStyleRecordToCSSProcessedPropsReg"],[32,52,14,50,"mapMixedStyleRecordToCSSProcessedPropsReg"],[32,53,15,2,"processor"],[32,62,15,25],[32,64,16,2,"styles"],[32,70,16,48],[32,72,17,37],[33,4,18,2],[33,8,18,6,"regStyles"],[33,17,18,50],[33,20,18,53],[33,21,18,54],[33,22,18,55],[34,4,19,2],[34,9,19,7],[34,13,19,13,"key"],[34,16,19,16],[34,20,19,20,"styles"],[34,26,19,26],[34,28,19,28],[35,6,20,4,"regStyles"],[35,15,20,13],[35,16,20,14,"key"],[35,19,20,17],[35,20,20,18],[35,23,20,21,"processor"],[35,32,20,30],[35,33,20,31,"compileStyleDeclaration"],[35,56,20,54],[35,57,20,55,"styles"],[35,63,20,61],[35,64,20,62,"key"],[35,67,20,65],[35,68,20,66],[35,69,20,67],[36,4,21,2],[37,4,22,2],[37,11,22,9,"regStyles"],[37,20,22,18],[38,2,23,0],[40,2,25,0],[41,2,26,0],[42,2,27,0],[43,2,28,0],[44,2,29,0],[45,2,30,0],[46,2,31,0],[47,2,32,0],[48,2,32,0],[48,6,33,13,"TStylesMerger"],[48,19,33,26],[49,4,41,2],[49,13,41,2,"TStylesMerger"],[49,27,42,4,"config"],[49,33,42,34],[49,35,43,4,"modelRegistry"],[49,48,43,44],[49,50,44,4,"cssProcessorConfig"],[49,68,44,43],[49,70,45,4],[50,6,45,4],[50,10,45,4,"_classCallCheck"],[50,25,45,4],[50,26,45,4,"default"],[50,33,45,4],[50,41,45,4,"TStylesMerger"],[50,54,45,4],[51,6,46,4],[51,10,46,8],[51,11,46,9,"processor"],[51,20,46,18],[51,23,46,21],[51,27,46,25,"CSSProcessor"],[51,39,46,37],[51,40,46,37,"default"],[51,47,46,37],[51,48,46,38,"cssProcessorConfig"],[51,66,46,56],[51,67,46,57],[52,6,47,4],[52,10,47,8],[52,11,47,9,"modelRegistry"],[52,24,47,22],[52,27,47,25,"modelRegistry"],[52,40,47,38],[53,6,48,4],[53,10,48,8],[53,11,48,9,"classesStyles"],[53,24,48,22],[53,27,48,25,"mapMixedStyleRecordToCSSProcessedPropsReg"],[53,68,48,66],[53,69,49,6],[53,73,49,10],[53,74,49,11,"processor"],[53,83,49,20],[53,85,50,6,"config"],[53,91,50,12],[53,92,50,13,"classesStyles"],[53,105,51,4],[53,106,51,5],[54,6,52,4],[54,10,52,8],[54,11,52,9,"tagsStyles"],[54,21,52,19],[54,24,52,22,"mapMixedStyleRecordToCSSProcessedPropsReg"],[54,65,52,63],[54,66,53,6],[54,70,53,10],[54,71,53,11,"processor"],[54,80,53,20],[54,82,54,6,"config"],[54,88,54,12],[54,89,54,13,"tagsStyles"],[54,99,55,4],[54,100,55,5],[55,6,56,4],[55,10,56,8],[55,11,56,9,"idsStyles"],[55,20,56,18],[55,23,56,21,"mapMixedStyleRecordToCSSProcessedPropsReg"],[55,64,56,62],[55,65,57,6],[55,69,57,10],[55,70,57,11,"processor"],[55,79,57,20],[55,81,58,6,"config"],[55,87,58,12],[55,88,58,13,"idsStyles"],[55,97,59,4],[55,98,59,5],[56,6,60,4],[56,10,60,8],[56,11,60,9,"enableCSSInlineProcessing"],[56,36,60,34],[56,39,60,37,"config"],[56,45,60,43],[56,46,60,44,"enableCSSInlineProcessing"],[56,71,60,69],[57,6,61,4],[57,10,61,8],[57,11,61,9,"enableUserAgentStyles"],[57,32,61,30],[57,35,61,33,"config"],[57,41,61,39],[57,42,61,40,"enableUserAgentStyles"],[57,63,61,61],[58,4,62,2],[59,4,62,3],[59,15,62,3,"_createClass"],[59,27,62,3],[59,28,62,3,"default"],[59,35,62,3],[59,37,62,3,"TStylesMerger"],[59,50,62,3],[60,6,62,3,"key"],[60,9,62,3],[61,6,62,3,"value"],[61,11,62,3],[61,13,64,2],[61,22,64,2,"compileInlineCSS"],[61,38,64,18,"compileInlineCSS"],[61,39,64,19,"inlineCSS"],[61,48,64,36],[61,50,64,38],[62,8,65,4],[62,15,65,11],[62,19,65,15],[62,20,65,16,"processor"],[62,29,65,25],[62,30,65,26,"compileInlineCSS"],[62,46,65,42],[62,47,65,43,"inlineCSS"],[62,56,65,52],[62,57,65,53],[63,6,66,2],[64,4,66,3],[65,6,66,3,"key"],[65,9,66,3],[66,6,66,3,"value"],[66,11,66,3],[66,13,68,2],[66,22,68,2,"compileStyleDeclaration"],[66,45,68,25,"compileStyleDeclaration"],[66,46,68,26,"styleDeclaration"],[66,62,68,65],[66,64,68,67],[67,8,69,4],[67,15,69,11],[67,19,69,15],[67,20,69,16,"processor"],[67,29,69,25],[67,30,69,26,"compileStyleDeclaration"],[67,53,69,49],[67,54,69,50,"styleDeclaration"],[67,70,69,66],[67,71,69,67],[68,6,70,2],[69,4,70,3],[70,6,70,3,"key"],[70,9,70,3],[71,6,70,3,"value"],[71,11,70,3],[71,13,72,2],[71,22,72,2,"buildStyles"],[71,33,72,13,"buildStyles"],[71,34,73,4,"inlineStyle"],[71,45,73,23],[71,47,74,4,"parentStyles"],[71,59,74,32],[71,61,75,4,"descriptor"],[71,71,75,31],[71,73,76,13],[72,8,77,4],[72,12,77,10,"ownInlinePropsReg"],[72,29,77,27],[72,32,78,6],[72,36,78,10],[72,37,78,11,"enableCSSInlineProcessing"],[72,62,78,36],[72,66,78,40,"inlineStyle"],[72,77,78,51],[72,80,79,10],[72,84,79,14],[72,85,79,15,"compileInlineCSS"],[72,101,79,31],[72,102,79,32,"inlineStyle"],[72,113,79,43],[72,114,79,44],[72,117,80,10],[72,121,80,14],[73,8,81,4],[73,12,81,10,"model"],[73,17,81,15],[73,20,81,18,"descriptor"],[73,30,81,28],[73,31,81,29,"tagName"],[73,38,81,36],[73,41,82,8],[73,45,82,12],[73,46,82,13,"modelRegistry"],[73,59,82,26],[73,60,82,27,"getElementModelFromTagName"],[73,86,82,53],[73,87,82,54,"descriptor"],[73,97,82,64],[73,98,82,65,"tagName"],[73,105,82,72],[73,106,82,73],[73,109,83,8],[73,113,83,12],[74,8,84,4],[74,12,84,10,"userTagOwnProps"],[74,27,84,25],[74,30,85,6],[74,34,85,10],[74,35,85,11,"tagsStyles"],[74,45,85,21],[74,46,85,22,"descriptor"],[74,56,85,32],[74,57,85,33,"tagName"],[74,64,85,40],[74,65,85,51],[74,69,85,55],[74,73,85,59],[75,8,86,4],[75,12,86,10,"userIdOwnProps"],[75,26,86,24],[75,29,86,27],[75,33,86,31],[75,34,86,32,"idsStyles"],[75,43,86,41],[75,44,86,42,"descriptor"],[75,54,86,52],[75,55,86,53,"id"],[75,57,86,55],[75,58,86,66],[75,62,86,70],[75,66,86,74],[76,8,87,4],[76,12,87,10,"classes"],[76,19,87,17],[76,22,87,20,"descriptor"],[76,32,87,30],[76,33,87,31,"classes"],[76,40,87,38],[77,8,88,4],[77,12,88,10,"userClassesOwnPropsList"],[77,35,88,33],[77,38,88,36,"classes"],[77,45,88,43],[77,46,88,44,"map"],[77,49,88,47],[77,50,89,7,"c"],[77,51,89,8],[77,55,89,13],[77,59,89,17],[77,60,89,18,"classesStyles"],[77,73,89,31],[77,74,89,32,"c"],[77,75,89,33],[77,76,89,34],[77,80,89,38],[77,84,90,4],[77,85,90,5],[78,8,91,4],[78,12,91,10,"dynamicPropsFromAttributes"],[78,38,91,36],[78,41,91,39],[78,45,91,43],[78,46,91,44,"enableUserAgentStyles"],[78,67,91,65],[78,70,92,8],[78,71,92,9,"model"],[78,76,92,14],[78,78,92,16,"getMixedUAStyles"],[78,94,92,32],[78,97,92,35,"descriptor"],[78,107,92,45],[78,109,92,47,"descriptor"],[78,119,92,57],[78,120,92,58,"domNode"],[78,127,92,66],[78,128,92,67],[78,132,92,71],[78,136,92,75],[78,141,93,8,"model"],[78,146,93,13],[78,148,93,15,"getUADerivedStyleFromAttributes"],[78,179,93,46],[78,182,94,10,"descriptor"],[78,192,94,20],[78,193,94,21,"attributes"],[78,203,94,31],[78,205,95,10,"descriptor"],[78,215,95,20],[78,216,95,21,"markers"],[78,223,96,8],[78,224,96,9],[78,228,97,8],[78,232,97,12],[78,235,98,8],[78,239,98,12],[79,8,99,4],[79,12,99,10,"userAgentTagProps"],[79,29,99,27],[79,32,99,30],[79,36,99,34],[79,37,99,35,"enableUserAgentStyles"],[79,58,99,56],[79,61,100,8,"model"],[79,66,100,13],[79,68,100,15,"mixedUAStyles"],[79,81,100,28],[79,85,100,32],[79,89,100,36],[79,92,101,8],[79,96,101,12],[80,8,102,4],[81,8,103,4],[81,12,103,10,"mergedOwnProps"],[81,26,103,24],[81,29,103,27,"emptyProcessedPropsReg"],[81,51,103,49],[81,52,103,50,"merge"],[81,57,103,55],[81,58,104,6,"userAgentTagProps"],[81,75,104,23],[81,79,105,8],[81,83,105,12],[81,84,105,13,"processor"],[81,93,105,22],[81,94,105,23,"compileStyleDeclaration"],[81,117,105,46],[81,118,105,47,"userAgentTagProps"],[81,135,105,64],[81,136,105,65],[81,138,106,6,"dynamicPropsFromAttributes"],[81,164,106,32],[81,168,107,8],[81,172,107,12],[81,173,107,13,"processor"],[81,182,107,22],[81,183,107,23,"compileStyleDeclaration"],[81,206,107,46],[81,207,107,47,"dynamicPropsFromAttributes"],[81,233,107,73],[81,234,107,74],[81,236,108,6,"userTagOwnProps"],[81,251,108,21],[81,253,109,6],[81,256,109,9,"userClassesOwnPropsList"],[81,279,109,32],[81,281,110,6,"userIdOwnProps"],[81,295,110,20],[81,297,111,6,"ownInlinePropsReg"],[81,314,112,4],[81,315,112,5],[82,8,113,4],[82,15,113,11],[82,19,113,15,"TStyles"],[82,27,113,22],[82,28,113,22,"TStyles"],[82,35,113,22],[82,36,113,23,"mergedOwnProps"],[82,50,113,37],[82,52,113,39,"parentStyles"],[82,64,113,51],[82,65,113,52],[83,6,114,2],[84,4,114,3],[85,2,114,3],[86,0,114,3],[86,3]],"functionMap":{"names":["<global>","mapMixedStyleRecordToCSSProcessedPropsReg","TStylesMerger","constructor","compileInlineCSS","compileStyleDeclaration","buildStyles","classes.map$argument_0"],"mappings":"AAA;ACa;CDS;OEU;ECQ;GDqB;EEE;GFE;EGE;GHE;EIE;MCiB,oCD;GJyB;CFC"},"hasCjsExports":false},"type":"js/module"}]}