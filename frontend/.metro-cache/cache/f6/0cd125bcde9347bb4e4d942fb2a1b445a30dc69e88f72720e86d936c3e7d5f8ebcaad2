{"dependencies":[{"name":"../model/HTMLContentModel","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":41},"end":{"line":2,"column":57,"index":98}}],"key":"pGRyydeDgR36JBKRrrVeLZgYH1E=","exportNames":["*"],"imports":1}},{"name":"ramda/src/compose","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":100},"end":{"line":4,"column":40,"index":140}}],"key":"3Zn5wz4PfinUrwOcnuZuQRvWT9M=","exportNames":["*"],"imports":1}},{"name":"../flow/text-transforms","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":194},"end":{"line":13,"column":33,"index":434}}],"key":"8enqHlGASSku9I+jc/uUyb4gDzI=","exportNames":["*"],"imports":1}},{"name":"./TNodeCtor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0,"index":435},"end":{"line":14,"column":67,"index":502}}],"key":"Ez9KlExCEi0aaYanZ8SlYL+cMkI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"TTextCtor\", {\n    enumerable: true,\n    get: function () {\n      return TTextCtor;\n    }\n  });\n  var _modelHTMLContentModel = require(_dependencyMap[0], \"../model/HTMLContentModel\");\n  var HTMLContentModel = _interopDefault(_modelHTMLContentModel);\n  var _ramdaSrcCompose = require(_dependencyMap[1], \"ramda/src/compose\");\n  var compose = _interopDefault(_ramdaSrcCompose);\n  var _flowTextTransforms = require(_dependencyMap[2], \"../flow/text-transforms\");\n  var _TNodeCtor = require(_dependencyMap[3], \"./TNodeCtor\");\n  var TNodeCtor = _interopDefault(_TNodeCtor);\n  var collapseWhiteSpaces = (0, compose.default)(_flowTextTransforms.normalizeWhitespaces, _flowTextTransforms.replaceSegmentBreaks, _flowTextTransforms.normalizeZeroWidthWhitespaces, _flowTextTransforms.removeConsecutiveSegmentBreaks, _flowTextTransforms.removeCollapsibleAroundSegmentBreak);\n  var collapseWhiteSpacesWithEastAsianCharset = (0, compose.default)(_flowTextTransforms.normalizeWhitespaces, _flowTextTransforms.replaceSegmentBreaks, _flowTextTransforms.removeLineBreaksAroundEastAsianDiscardSet, _flowTextTransforms.normalizeZeroWidthWhitespaces, _flowTextTransforms.removeConsecutiveSegmentBreaks, _flowTextTransforms.removeCollapsibleAroundSegmentBreak);\n  var TTextCtor = function TText(init) {\n    this.initialize(init);\n    this.isVoid = this.elementModel ? this.elementModel.isVoid : false;\n  };\n\n  //@ts-ignore\n  TTextCtor.prototype = new TNodeCtor.default('text', 'TText', {\n    data: {\n      get() {\n        return this.init.textNode.data;\n      },\n      set(data) {\n        this.init.textNode.data = data;\n      }\n    }\n  });\n  TTextCtor.prototype.matchContentModel = function matchContentModel(contentModel) {\n    return contentModel === HTMLContentModel.default.textual || contentModel === HTMLContentModel.default.mixed;\n  };\n  TTextCtor.prototype.isCollapsibleLeft = function isCollapsibleLeft() {\n    return this.hasWhiteSpaceCollapsingEnabled && !this.isEmpty() && this.data[0] === ' ';\n  };\n  TTextCtor.prototype.isCollapsibleRight = function isCollapsibleRight() {\n    return this.hasWhiteSpaceCollapsingEnabled && !this.isEmpty() && (this.isVoid || this.data[this.data.length - 1] === ' ');\n  };\n  TTextCtor.prototype.isEmpty = function isEmpty() {\n    // Only anonymous text nodes can be considered \"empty\"\n    return this.tagName === null && !this.data.length;\n  };\n  TTextCtor.prototype.trimLeft = function trimLeft() {\n    if (this.isCollapsibleLeft()) {\n      this.data = this.data.slice(1);\n    }\n  };\n  TTextCtor.prototype.trimRight = function trimRight() {\n    if (this.isCollapsibleRight()) {\n      this.data = this.data.substr(0, this.data.length - 1);\n    }\n  };\n  TTextCtor.prototype.collapseChildren = function collapseChildren() {\n    if (this.hasWhiteSpaceCollapsingEnabled) {\n      if (this.init.context.removeLineBreaksAroundEastAsianDiscardSet) {\n        this.data = collapseWhiteSpacesWithEastAsianCharset(this.data);\n      } else {\n        this.data = collapseWhiteSpaces(this.data);\n      }\n    }\n    return null;\n  };\n  var _default = TTextCtor;\n});","lineCount":83,"map":[[12,2,122,0,"Object"],[12,8,122,0],[12,9,122,0,"defineProperty"],[12,23,122,0],[12,24,122,0,"exports"],[12,31,122,0],[13,4,122,0,"enumerable"],[13,14,122,0],[14,4,122,0,"get"],[14,7,122,0],[14,18,122,0,"get"],[14,19,122,0],[15,6,122,0],[15,13,122,0,"_default"],[15,21,122,0],[16,4,122,0],[17,2,122,0],[18,2,124,0,"Object"],[18,8,124,0],[18,9,124,0,"defineProperty"],[18,23,124,0],[18,24,124,0,"exports"],[18,31,124,0],[19,4,124,0,"enumerable"],[19,14,124,0],[20,4,124,0,"get"],[20,7,124,0],[20,18,124,0,"get"],[20,19,124,0],[21,6,124,0],[21,13,124,9,"TTextCtor"],[21,22,124,18],[22,4,124,18],[23,2,124,18],[24,2,2,0],[24,6,2,0,"_modelHTMLContentModel"],[24,28,2,0],[24,31,2,0,"require"],[24,38,2,0],[24,39,2,0,"_dependencyMap"],[24,53,2,0],[25,2,2,0],[25,6,2,0,"HTMLContentModel"],[25,22,2,0],[25,25,2,0,"_interopDefault"],[25,40,2,0],[25,41,2,0,"_modelHTMLContentModel"],[25,63,2,0],[26,2,4,0],[26,6,4,0,"_ramdaSrcCompose"],[26,22,4,0],[26,25,4,0,"require"],[26,32,4,0],[26,33,4,0,"_dependencyMap"],[26,47,4,0],[27,2,4,0],[27,6,4,0,"compose"],[27,13,4,0],[27,16,4,0,"_interopDefault"],[27,31,4,0],[27,32,4,0,"_ramdaSrcCompose"],[27,48,4,0],[28,2,6,0],[28,6,6,0,"_flowTextTransforms"],[28,25,6,0],[28,28,6,0,"require"],[28,35,6,0],[28,36,6,0,"_dependencyMap"],[28,50,6,0],[29,2,14,0],[29,6,14,0,"_TNodeCtor"],[29,16,14,0],[29,19,14,0,"require"],[29,26,14,0],[29,27,14,0,"_dependencyMap"],[29,41,14,0],[30,2,14,0],[30,6,14,0,"TNodeCtor"],[30,15,14,0],[30,18,14,0,"_interopDefault"],[30,33,14,0],[30,34,14,0,"_TNodeCtor"],[30,44,14,0],[31,2,29,0],[31,6,29,6,"collapseWhiteSpaces"],[31,25,29,25],[31,28,29,28],[31,32,29,28,"compose"],[31,39,29,35],[31,40,29,35,"default"],[31,47,29,35],[31,49,30,2,"normalizeWhitespaces"],[31,68,30,22],[31,69,30,22,"normalizeWhitespaces"],[31,89,30,22],[31,91,31,2,"replaceSegmentBreaks"],[31,110,31,22],[31,111,31,22,"replaceSegmentBreaks"],[31,131,31,22],[31,133,32,2,"normalizeZeroWidthWhitespaces"],[31,152,32,31],[31,153,32,31,"normalizeZeroWidthWhitespaces"],[31,182,32,31],[31,184,33,2,"removeConsecutiveSegmentBreaks"],[31,203,33,32],[31,204,33,32,"removeConsecutiveSegmentBreaks"],[31,234,33,32],[31,236,34,2,"removeCollapsibleAroundSegmentBreak"],[31,255,34,37],[31,256,34,37,"removeCollapsibleAroundSegmentBreak"],[31,291,35,0],[31,292,35,1],[32,2,37,0],[32,6,37,6,"collapseWhiteSpacesWithEastAsianCharset"],[32,45,37,45],[32,48,37,48],[32,52,37,48,"compose"],[32,59,37,55],[32,60,37,55,"default"],[32,67,37,55],[32,69,38,2,"normalizeWhitespaces"],[32,88,38,22],[32,89,38,22,"normalizeWhitespaces"],[32,109,38,22],[32,111,39,2,"replaceSegmentBreaks"],[32,130,39,22],[32,131,39,22,"replaceSegmentBreaks"],[32,151,39,22],[32,153,40,2,"removeLineBreaksAroundEastAsianDiscardSet"],[32,172,40,43],[32,173,40,43,"removeLineBreaksAroundEastAsianDiscardSet"],[32,214,40,43],[32,216,41,2,"normalizeZeroWidthWhitespaces"],[32,235,41,31],[32,236,41,31,"normalizeZeroWidthWhitespaces"],[32,265,41,31],[32,267,42,2,"removeConsecutiveSegmentBreaks"],[32,286,42,32],[32,287,42,32,"removeConsecutiveSegmentBreaks"],[32,317,42,32],[32,319,43,2,"removeCollapsibleAroundSegmentBreak"],[32,338,43,37],[32,339,43,37,"removeCollapsibleAroundSegmentBreak"],[32,374,44,0],[32,375,44,1],[33,2,46,0],[33,6,46,6,"TTextCtor"],[33,15,46,15],[33,18,46,18],[33,27,46,27,"TText"],[33,32,46,32,"TText"],[33,33,46,59,"init"],[33,37,46,74],[33,39,46,76],[34,4,47,2],[34,8,47,6],[34,9,47,7,"initialize"],[34,19,47,17],[34,20,47,18,"init"],[34,24,47,22],[34,25,47,23],[35,4,48,2],[35,8,48,6],[35,9,48,7,"isVoid"],[35,15,48,13],[35,18,48,16],[35,22,48,20],[35,23,48,21,"elementModel"],[35,35,48,33],[35,38,48,36],[35,42,48,40],[35,43,48,41,"elementModel"],[35,55,48,53],[35,56,48,54,"isVoid"],[35,62,48,60],[35,65,48,63],[35,70,48,68],[36,2,49,0],[36,3,49,55],[38,2,51,0],[39,2,52,0,"TTextCtor"],[39,11,52,9],[39,12,52,10,"prototype"],[39,21,52,19],[39,24,52,22],[39,28,52,26,"TNodeCtor"],[39,37,52,35],[39,38,52,35,"default"],[39,45,52,35],[39,46,52,36],[39,52,52,42],[39,54,52,44],[39,61,52,51],[39,63,52,53],[40,4,53,2,"data"],[40,8,53,6],[40,10,53,8],[41,6,54,4,"get"],[41,9,54,7,"get"],[41,10,54,7],[41,12,54,25],[42,8,55,6],[42,15,55,13],[42,19,55,17],[42,20,55,18,"init"],[42,24,55,22],[42,25,55,23,"textNode"],[42,33,55,31],[42,34,55,32,"data"],[42,38,55,36],[43,6,56,4],[43,7,56,5],[44,6,57,4,"set"],[44,9,57,7,"set"],[44,10,57,25,"data"],[44,14,57,37],[44,16,57,39],[45,8,58,6],[45,12,58,10],[45,13,58,11,"init"],[45,17,58,15],[45,18,58,16,"textNode"],[45,26,58,24],[45,27,58,25,"data"],[45,31,58,29],[45,34,58,32,"data"],[45,38,58,36],[46,6,59,4],[47,4,60,2],[48,2,61,0],[48,3,61,1],[48,4,61,2],[49,2,63,0,"TTextCtor"],[49,11,63,9],[49,12,63,10,"prototype"],[49,21,63,19],[49,22,63,20,"matchContentModel"],[49,39,63,37],[49,42,63,40],[49,51,63,49,"matchContentModel"],[49,68,63,66,"matchContentModel"],[49,69,64,2,"contentModel"],[49,81,64,32],[49,83,65,2],[50,4,66,2],[50,11,67,4,"contentModel"],[50,23,67,16],[50,28,67,21,"HTMLContentModel"],[50,44,67,37],[50,45,67,37,"default"],[50,52,67,37],[50,53,67,38,"textual"],[50,60,67,45],[50,64,68,4,"contentModel"],[50,76,68,16],[50,81,68,21,"HTMLContentModel"],[50,97,68,37],[50,98,68,37,"default"],[50,105,68,37],[50,106,68,38,"mixed"],[50,111,68,43],[51,2,70,0],[51,3,70,1],[52,2,72,0,"TTextCtor"],[52,11,72,9],[52,12,72,10,"prototype"],[52,21,72,19],[52,22,72,20,"isCollapsibleLeft"],[52,39,72,37],[52,42,72,40],[52,51,72,49,"isCollapsibleLeft"],[52,68,72,66,"isCollapsibleLeft"],[52,69,72,66],[52,71,74,2],[53,4,75,2],[53,11,76,4],[53,15,76,8],[53,16,76,9,"hasWhiteSpaceCollapsingEnabled"],[53,46,76,39],[53,50,77,4],[53,51,77,5],[53,55,77,9],[53,56,77,10,"isEmpty"],[53,63,77,17],[53,64,77,18],[53,65,77,19],[53,69,78,4],[53,73,78,8],[53,74,78,9,"data"],[53,78,78,13],[53,79,78,14],[53,80,78,15],[53,81,78,16],[53,86,78,21],[53,89,78,24],[54,2,80,0],[54,3,80,1],[55,2,82,0,"TTextCtor"],[55,11,82,9],[55,12,82,10,"prototype"],[55,21,82,19],[55,22,82,20,"isCollapsibleRight"],[55,40,82,38],[55,43,82,41],[55,52,82,50,"isCollapsibleRight"],[55,70,82,68,"isCollapsibleRight"],[55,71,82,68],[55,73,84,2],[56,4,85,2],[56,11,86,4],[56,15,86,8],[56,16,86,9,"hasWhiteSpaceCollapsingEnabled"],[56,46,86,39],[56,50,87,4],[56,51,87,5],[56,55,87,9],[56,56,87,10,"isEmpty"],[56,63,87,17],[56,64,87,18],[56,65,87,19],[56,70,88,5],[56,74,88,9],[56,75,88,10,"isVoid"],[56,81,88,16],[56,85,88,20],[56,89,88,24],[56,90,88,25,"data"],[56,94,88,29],[56,95,88,30],[56,99,88,34],[56,100,88,35,"data"],[56,104,88,39],[56,105,88,40,"length"],[56,111,88,46],[56,114,88,49],[56,115,88,50],[56,116,88,51],[56,121,88,56],[56,124,88,59],[56,125,88,60],[57,2,90,0],[57,3,90,1],[58,2,92,0,"TTextCtor"],[58,11,92,9],[58,12,92,10,"prototype"],[58,21,92,19],[58,22,92,20,"isEmpty"],[58,29,92,27],[58,32,92,30],[58,41,92,39,"isEmpty"],[58,48,92,46,"isEmpty"],[58,49,92,46],[58,51,92,64],[59,4,93,2],[60,4,94,2],[60,11,94,9],[60,15,94,13],[60,16,94,14,"tagName"],[60,23,94,21],[60,28,94,26],[60,32,94,30],[60,36,94,34],[60,37,94,35],[60,41,94,39],[60,42,94,40,"data"],[60,46,94,44],[60,47,94,45,"length"],[60,53,94,51],[61,2,95,0],[61,3,95,1],[62,2,97,0,"TTextCtor"],[62,11,97,9],[62,12,97,10,"prototype"],[62,21,97,19],[62,22,97,20,"trimLeft"],[62,30,97,28],[62,33,97,31],[62,42,97,40,"trimLeft"],[62,50,97,48,"trimLeft"],[62,51,97,48],[62,53,97,75],[63,4,98,2],[63,8,98,6],[63,12,98,10],[63,13,98,11,"isCollapsibleLeft"],[63,30,98,28],[63,31,98,29],[63,32,98,30],[63,34,98,32],[64,6,99,4],[64,10,99,8],[64,11,99,9,"data"],[64,15,99,13],[64,18,99,16],[64,22,99,20],[64,23,99,21,"data"],[64,27,99,25],[64,28,99,26,"slice"],[64,33,99,31],[64,34,99,32],[64,35,99,33],[64,36,99,34],[65,4,100,2],[66,2,101,0],[66,3,101,1],[67,2,103,0,"TTextCtor"],[67,11,103,9],[67,12,103,10,"prototype"],[67,21,103,19],[67,22,103,20,"trimRight"],[67,31,103,29],[67,34,103,32],[67,43,103,41,"trimRight"],[67,52,103,50,"trimRight"],[67,53,103,50],[67,55,103,77],[68,4,104,2],[68,8,104,6],[68,12,104,10],[68,13,104,11,"isCollapsibleRight"],[68,31,104,29],[68,32,104,30],[68,33,104,31],[68,35,104,33],[69,6,105,4],[69,10,105,8],[69,11,105,9,"data"],[69,15,105,13],[69,18,105,16],[69,22,105,20],[69,23,105,21,"data"],[69,27,105,25],[69,28,105,26,"substr"],[69,34,105,32],[69,35,105,33],[69,36,105,34],[69,38,105,36],[69,42,105,40],[69,43,105,41,"data"],[69,47,105,45],[69,48,105,46,"length"],[69,54,105,52],[69,57,105,55],[69,58,105,56],[69,59,105,57],[70,4,106,2],[71,2,107,0],[71,3,107,1],[72,2,109,0,"TTextCtor"],[72,11,109,9],[72,12,109,10,"prototype"],[72,21,109,19],[72,22,109,20,"collapseChildren"],[72,38,109,36],[72,41,109,39],[72,50,109,48,"collapseChildren"],[72,66,109,64,"collapseChildren"],[72,67,109,64],[72,69,111,2],[73,4,112,2],[73,8,112,6],[73,12,112,10],[73,13,112,11,"hasWhiteSpaceCollapsingEnabled"],[73,43,112,41],[73,45,112,43],[74,6,113,4],[74,10,113,8],[74,14,113,12],[74,15,113,13,"init"],[74,19,113,17],[74,20,113,18,"context"],[74,27,113,25],[74,28,113,26,"removeLineBreaksAroundEastAsianDiscardSet"],[74,69,113,67],[74,71,113,69],[75,8,114,6],[75,12,114,10],[75,13,114,11,"data"],[75,17,114,15],[75,20,114,18,"collapseWhiteSpacesWithEastAsianCharset"],[75,59,114,57],[75,60,114,58],[75,64,114,62],[75,65,114,63,"data"],[75,69,114,67],[75,70,114,68],[76,6,115,4],[76,7,115,5],[76,13,115,11],[77,8,116,6],[77,12,116,10],[77,13,116,11,"data"],[77,17,116,15],[77,20,116,18,"collapseWhiteSpaces"],[77,39,116,37],[77,40,116,38],[77,44,116,42],[77,45,116,43,"data"],[77,49,116,47],[77,50,116,48],[78,6,117,4],[79,4,118,2],[80,4,119,2],[80,11,119,9],[80,15,119,13],[81,2,120,0],[81,3,120,1],[82,2,122,0],[82,6,122,0,"_default"],[82,14,122,0],[82,17,122,15,"TTextCtor"],[82,26,122,24],[83,0,122,25],[83,3]],"functionMap":{"names":["<global>","TText","TNodeCtor$argument_2.data.get","TNodeCtor$argument_2.data.set","matchContentModel","isCollapsibleLeft","isCollapsibleRight","isEmpty","trimLeft","trimRight","collapseChildren"],"mappings":"AAA;kBC6C;CDG;IEK;KFE;IGC;KHE;wCII;CJO;wCKE;CLQ;yCME;CNQ;8BOE;CPG;+BQE;CRI;gCSE;CTI;uCUE;CVW"},"hasCjsExports":false},"type":"js/module"}]}