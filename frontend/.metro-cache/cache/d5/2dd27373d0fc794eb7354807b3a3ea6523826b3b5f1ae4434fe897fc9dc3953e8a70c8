{"dependencies":[{"name":"../model/HTMLContentModel","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":47,"index":174},"end":{"line":8,"column":83,"index":210}}],"key":"cfR4jR+7dlZ1FfmgR8Nblj0/K0I=","exportNames":["*"],"imports":1}},{"name":"ramda/src/compose","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":38,"index":252},"end":{"line":10,"column":66,"index":280}}],"key":"Vxe5VT054d+vYMdEr+Hreqo85R8=","exportNames":["*"],"imports":1}},{"name":"../flow/text-transforms","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":22,"index":306},"end":{"line":12,"column":56,"index":340}}],"key":"qd1rrnVpReFS01uz7MIxeP2PDuA=","exportNames":["*"],"imports":1}},{"name":"./TNodeCtor","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":40,"index":383},"end":{"line":14,"column":62,"index":405}}],"key":"jDOxKXDjjwLt0pv/qUAJm4AFEio=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.TTextCtor = exports.default = void 0;\n  var _HTMLContentModel = _interopRequireDefault(require(_dependencyMap[0], \"../model/HTMLContentModel\"));\n  var _compose = _interopRequireDefault(require(_dependencyMap[1], \"ramda/src/compose\"));\n  var _textTransforms = require(_dependencyMap[2], \"../flow/text-transforms\");\n  var _TNodeCtor = _interopRequireDefault(require(_dependencyMap[3], \"./TNodeCtor\"));\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n  const collapseWhiteSpaces = (0, _compose.default)(_textTransforms.normalizeWhitespaces, _textTransforms.replaceSegmentBreaks, _textTransforms.normalizeZeroWidthWhitespaces, _textTransforms.removeConsecutiveSegmentBreaks, _textTransforms.removeCollapsibleAroundSegmentBreak);\n  const collapseWhiteSpacesWithEastAsianCharset = (0, _compose.default)(_textTransforms.normalizeWhitespaces, _textTransforms.replaceSegmentBreaks, _textTransforms.removeLineBreaksAroundEastAsianDiscardSet, _textTransforms.normalizeZeroWidthWhitespaces, _textTransforms.removeConsecutiveSegmentBreaks, _textTransforms.removeCollapsibleAroundSegmentBreak);\n  const TTextCtor = function TText(init) {\n    this.initialize(init);\n    this.isVoid = this.elementModel ? this.elementModel.isVoid : false;\n  }; //@ts-ignore\n\n  exports.TTextCtor = TTextCtor;\n  TTextCtor.prototype = new _TNodeCtor.default('text', 'TText', {\n    data: {\n      get() {\n        return this.init.textNode.data;\n      },\n      set(data) {\n        this.init.textNode.data = data;\n      }\n    }\n  });\n  TTextCtor.prototype.matchContentModel = function matchContentModel(contentModel) {\n    return contentModel === _HTMLContentModel.default.textual || contentModel === _HTMLContentModel.default.mixed;\n  };\n  TTextCtor.prototype.isCollapsibleLeft = function isCollapsibleLeft() {\n    return this.hasWhiteSpaceCollapsingEnabled && !this.isEmpty() && this.data[0] === ' ';\n  };\n  TTextCtor.prototype.isCollapsibleRight = function isCollapsibleRight() {\n    return this.hasWhiteSpaceCollapsingEnabled && !this.isEmpty() && (this.isVoid || this.data[this.data.length - 1] === ' ');\n  };\n  TTextCtor.prototype.isEmpty = function isEmpty() {\n    // Only anonymous text nodes can be considered \"empty\"\n    return this.tagName === null && !this.data.length;\n  };\n  TTextCtor.prototype.trimLeft = function trimLeft() {\n    if (this.isCollapsibleLeft()) {\n      this.data = this.data.slice(1);\n    }\n  };\n  TTextCtor.prototype.trimRight = function trimRight() {\n    if (this.isCollapsibleRight()) {\n      this.data = this.data.substr(0, this.data.length - 1);\n    }\n  };\n  TTextCtor.prototype.collapseChildren = function collapseChildren() {\n    if (this.hasWhiteSpaceCollapsingEnabled) {\n      if (this.init.context.removeLineBreaksAroundEastAsianDiscardSet) {\n        this.data = collapseWhiteSpacesWithEastAsianCharset(this.data);\n      } else {\n        this.data = collapseWhiteSpaces(this.data);\n      }\n    }\n    return null;\n  };\n  var _default = TTextCtor;\n  exports.default = _default;\n});","lineCount":70,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"TTextCtor"],[7,19,6,17],[7,22,6,20,"exports"],[7,29,6,27],[7,30,6,28,"default"],[7,37,6,35],[7,40,6,38],[7,45,6,43],[7,46,6,44],[8,2,8,0],[8,6,8,4,"_HTMLContentModel"],[8,23,8,21],[8,26,8,24,"_interopRequireDefault"],[8,48,8,46],[8,49,8,47,"require"],[8,56,8,54],[8,57,8,54,"_dependencyMap"],[8,71,8,54],[8,103,8,82],[8,104,8,83],[8,105,8,84],[9,2,10,0],[9,6,10,4,"_compose"],[9,14,10,12],[9,17,10,15,"_interopRequireDefault"],[9,39,10,37],[9,40,10,38,"require"],[9,47,10,45],[9,48,10,45,"_dependencyMap"],[9,62,10,45],[9,86,10,65],[9,87,10,66],[9,88,10,67],[10,2,12,0],[10,6,12,4,"_textTransforms"],[10,21,12,19],[10,24,12,22,"require"],[10,31,12,29],[10,32,12,29,"_dependencyMap"],[10,46,12,29],[10,76,12,55],[10,77,12,56],[11,2,14,0],[11,6,14,4,"_TNodeCtor"],[11,16,14,14],[11,19,14,17,"_interopRequireDefault"],[11,41,14,39],[11,42,14,40,"require"],[11,49,14,47],[11,50,14,47,"_dependencyMap"],[11,64,14,47],[11,82,14,61],[11,83,14,62],[11,84,14,63],[12,2,16,0],[12,11,16,9,"_interopRequireDefault"],[12,33,16,31,"_interopRequireDefault"],[12,34,16,32,"obj"],[12,37,16,35],[12,39,16,37],[13,4,16,39],[13,11,16,46,"obj"],[13,14,16,49],[13,18,16,53,"obj"],[13,21,16,56],[13,22,16,57,"__esModule"],[13,32,16,67],[13,35,16,70,"obj"],[13,38,16,73],[13,41,16,76],[14,6,16,78,"default"],[14,13,16,85],[14,15,16,87,"obj"],[15,4,16,91],[15,5,16,92],[16,2,16,94],[17,2,18,0],[17,8,18,6,"collapseWhiteSpaces"],[17,27,18,25],[17,30,18,28],[17,31,18,29],[17,32,18,30],[17,34,18,32,"_compose"],[17,42,18,40],[17,43,18,41,"default"],[17,50,18,48],[17,52,18,50,"_textTransforms"],[17,67,18,65],[17,68,18,66,"normalizeWhitespaces"],[17,88,18,86],[17,90,18,88,"_textTransforms"],[17,105,18,103],[17,106,18,104,"replaceSegmentBreaks"],[17,126,18,124],[17,128,18,126,"_textTransforms"],[17,143,18,141],[17,144,18,142,"normalizeZeroWidthWhitespaces"],[17,173,18,171],[17,175,18,173,"_textTransforms"],[17,190,18,188],[17,191,18,189,"removeConsecutiveSegmentBreaks"],[17,221,18,219],[17,223,18,221,"_textTransforms"],[17,238,18,236],[17,239,18,237,"removeCollapsibleAroundSegmentBreak"],[17,274,18,272],[17,275,18,273],[18,2,19,0],[18,8,19,6,"collapseWhiteSpacesWithEastAsianCharset"],[18,47,19,45],[18,50,19,48],[18,51,19,49],[18,52,19,50],[18,54,19,52,"_compose"],[18,62,19,60],[18,63,19,61,"default"],[18,70,19,68],[18,72,19,70,"_textTransforms"],[18,87,19,85],[18,88,19,86,"normalizeWhitespaces"],[18,108,19,106],[18,110,19,108,"_textTransforms"],[18,125,19,123],[18,126,19,124,"replaceSegmentBreaks"],[18,146,19,144],[18,148,19,146,"_textTransforms"],[18,163,19,161],[18,164,19,162,"removeLineBreaksAroundEastAsianDiscardSet"],[18,205,19,203],[18,207,19,205,"_textTransforms"],[18,222,19,220],[18,223,19,221,"normalizeZeroWidthWhitespaces"],[18,252,19,250],[18,254,19,252,"_textTransforms"],[18,269,19,267],[18,270,19,268,"removeConsecutiveSegmentBreaks"],[18,300,19,298],[18,302,19,300,"_textTransforms"],[18,317,19,315],[18,318,19,316,"removeCollapsibleAroundSegmentBreak"],[18,353,19,351],[18,354,19,352],[19,2,21,0],[19,8,21,6,"TTextCtor"],[19,17,21,15],[19,20,21,18],[19,29,21,27,"TText"],[19,34,21,32,"TText"],[19,35,21,33,"init"],[19,39,21,37],[19,41,21,39],[20,4,22,2],[20,8,22,6],[20,9,22,7,"initialize"],[20,19,22,17],[20,20,22,18,"init"],[20,24,22,22],[20,25,22,23],[21,4,23,2],[21,8,23,6],[21,9,23,7,"isVoid"],[21,15,23,13],[21,18,23,16],[21,22,23,20],[21,23,23,21,"elementModel"],[21,35,23,33],[21,38,23,36],[21,42,23,40],[21,43,23,41,"elementModel"],[21,55,23,53],[21,56,23,54,"isVoid"],[21,62,23,60],[21,65,23,63],[21,70,23,68],[22,2,24,0],[22,3,24,1],[22,4,24,2],[22,5,24,3],[24,2,27,0,"exports"],[24,9,27,7],[24,10,27,8,"TTextCtor"],[24,19,27,17],[24,22,27,20,"TTextCtor"],[24,31,27,29],[25,2,28,0,"TTextCtor"],[25,11,28,9],[25,12,28,10,"prototype"],[25,21,28,19],[25,24,28,22],[25,28,28,26,"_TNodeCtor"],[25,38,28,36],[25,39,28,37,"default"],[25,46,28,44],[25,47,28,45],[25,53,28,51],[25,55,28,53],[25,62,28,60],[25,64,28,62],[26,4,29,2,"data"],[26,8,29,6],[26,10,29,8],[27,6,30,4,"get"],[27,9,30,7,"get"],[27,10,30,7],[27,12,30,10],[28,8,31,6],[28,15,31,13],[28,19,31,17],[28,20,31,18,"init"],[28,24,31,22],[28,25,31,23,"textNode"],[28,33,31,31],[28,34,31,32,"data"],[28,38,31,36],[29,6,32,4],[29,7,32,5],[30,6,34,4,"set"],[30,9,34,7,"set"],[30,10,34,8,"data"],[30,14,34,12],[30,16,34,14],[31,8,35,6],[31,12,35,10],[31,13,35,11,"init"],[31,17,35,15],[31,18,35,16,"textNode"],[31,26,35,24],[31,27,35,25,"data"],[31,31,35,29],[31,34,35,32,"data"],[31,38,35,36],[32,6,36,4],[33,4,38,2],[34,2,39,0],[34,3,39,1],[34,4,39,2],[35,2,41,0,"TTextCtor"],[35,11,41,9],[35,12,41,10,"prototype"],[35,21,41,19],[35,22,41,20,"matchContentModel"],[35,39,41,37],[35,42,41,40],[35,51,41,49,"matchContentModel"],[35,68,41,66,"matchContentModel"],[35,69,41,67,"contentModel"],[35,81,41,79],[35,83,41,81],[36,4,42,2],[36,11,42,9,"contentModel"],[36,23,42,21],[36,28,42,26,"_HTMLContentModel"],[36,45,42,43],[36,46,42,44,"default"],[36,53,42,51],[36,54,42,52,"textual"],[36,61,42,59],[36,65,42,63,"contentModel"],[36,77,42,75],[36,82,42,80,"_HTMLContentModel"],[36,99,42,97],[36,100,42,98,"default"],[36,107,42,105],[36,108,42,106,"mixed"],[36,113,42,111],[37,2,43,0],[37,3,43,1],[38,2,45,0,"TTextCtor"],[38,11,45,9],[38,12,45,10,"prototype"],[38,21,45,19],[38,22,45,20,"isCollapsibleLeft"],[38,39,45,37],[38,42,45,40],[38,51,45,49,"isCollapsibleLeft"],[38,68,45,66,"isCollapsibleLeft"],[38,69,45,66],[38,71,45,69],[39,4,46,2],[39,11,46,9],[39,15,46,13],[39,16,46,14,"hasWhiteSpaceCollapsingEnabled"],[39,46,46,44],[39,50,46,48],[39,51,46,49],[39,55,46,53],[39,56,46,54,"isEmpty"],[39,63,46,61],[39,64,46,62],[39,65,46,63],[39,69,46,67],[39,73,46,71],[39,74,46,72,"data"],[39,78,46,76],[39,79,46,77],[39,80,46,78],[39,81,46,79],[39,86,46,84],[39,89,46,87],[40,2,47,0],[40,3,47,1],[41,2,49,0,"TTextCtor"],[41,11,49,9],[41,12,49,10,"prototype"],[41,21,49,19],[41,22,49,20,"isCollapsibleRight"],[41,40,49,38],[41,43,49,41],[41,52,49,50,"isCollapsibleRight"],[41,70,49,68,"isCollapsibleRight"],[41,71,49,68],[41,73,49,71],[42,4,50,2],[42,11,50,9],[42,15,50,13],[42,16,50,14,"hasWhiteSpaceCollapsingEnabled"],[42,46,50,44],[42,50,50,48],[42,51,50,49],[42,55,50,53],[42,56,50,54,"isEmpty"],[42,63,50,61],[42,64,50,62],[42,65,50,63],[42,70,50,68],[42,74,50,72],[42,75,50,73,"isVoid"],[42,81,50,79],[42,85,50,83],[42,89,50,87],[42,90,50,88,"data"],[42,94,50,92],[42,95,50,93],[42,99,50,97],[42,100,50,98,"data"],[42,104,50,102],[42,105,50,103,"length"],[42,111,50,109],[42,114,50,112],[42,115,50,113],[42,116,50,114],[42,121,50,119],[42,124,50,122],[42,125,50,123],[43,2,51,0],[43,3,51,1],[44,2,53,0,"TTextCtor"],[44,11,53,9],[44,12,53,10,"prototype"],[44,21,53,19],[44,22,53,20,"isEmpty"],[44,29,53,27],[44,32,53,30],[44,41,53,39,"isEmpty"],[44,48,53,46,"isEmpty"],[44,49,53,46],[44,51,53,49],[45,4,54,2],[46,4,55,2],[46,11,55,9],[46,15,55,13],[46,16,55,14,"tagName"],[46,23,55,21],[46,28,55,26],[46,32,55,30],[46,36,55,34],[46,37,55,35],[46,41,55,39],[46,42,55,40,"data"],[46,46,55,44],[46,47,55,45,"length"],[46,53,55,51],[47,2,56,0],[47,3,56,1],[48,2,58,0,"TTextCtor"],[48,11,58,9],[48,12,58,10,"prototype"],[48,21,58,19],[48,22,58,20,"trimLeft"],[48,30,58,28],[48,33,58,31],[48,42,58,40,"trimLeft"],[48,50,58,48,"trimLeft"],[48,51,58,48],[48,53,58,51],[49,4,59,2],[49,8,59,6],[49,12,59,10],[49,13,59,11,"isCollapsibleLeft"],[49,30,59,28],[49,31,59,29],[49,32,59,30],[49,34,59,32],[50,6,60,4],[50,10,60,8],[50,11,60,9,"data"],[50,15,60,13],[50,18,60,16],[50,22,60,20],[50,23,60,21,"data"],[50,27,60,25],[50,28,60,26,"slice"],[50,33,60,31],[50,34,60,32],[50,35,60,33],[50,36,60,34],[51,4,61,2],[52,2,62,0],[52,3,62,1],[53,2,64,0,"TTextCtor"],[53,11,64,9],[53,12,64,10,"prototype"],[53,21,64,19],[53,22,64,20,"trimRight"],[53,31,64,29],[53,34,64,32],[53,43,64,41,"trimRight"],[53,52,64,50,"trimRight"],[53,53,64,50],[53,55,64,53],[54,4,65,2],[54,8,65,6],[54,12,65,10],[54,13,65,11,"isCollapsibleRight"],[54,31,65,29],[54,32,65,30],[54,33,65,31],[54,35,65,33],[55,6,66,4],[55,10,66,8],[55,11,66,9,"data"],[55,15,66,13],[55,18,66,16],[55,22,66,20],[55,23,66,21,"data"],[55,27,66,25],[55,28,66,26,"substr"],[55,34,66,32],[55,35,66,33],[55,36,66,34],[55,38,66,36],[55,42,66,40],[55,43,66,41,"data"],[55,47,66,45],[55,48,66,46,"length"],[55,54,66,52],[55,57,66,55],[55,58,66,56],[55,59,66,57],[56,4,67,2],[57,2,68,0],[57,3,68,1],[58,2,70,0,"TTextCtor"],[58,11,70,9],[58,12,70,10,"prototype"],[58,21,70,19],[58,22,70,20,"collapseChildren"],[58,38,70,36],[58,41,70,39],[58,50,70,48,"collapseChildren"],[58,66,70,64,"collapseChildren"],[58,67,70,64],[58,69,70,67],[59,4,71,2],[59,8,71,6],[59,12,71,10],[59,13,71,11,"hasWhiteSpaceCollapsingEnabled"],[59,43,71,41],[59,45,71,43],[60,6,72,4],[60,10,72,8],[60,14,72,12],[60,15,72,13,"init"],[60,19,72,17],[60,20,72,18,"context"],[60,27,72,25],[60,28,72,26,"removeLineBreaksAroundEastAsianDiscardSet"],[60,69,72,67],[60,71,72,69],[61,8,73,6],[61,12,73,10],[61,13,73,11,"data"],[61,17,73,15],[61,20,73,18,"collapseWhiteSpacesWithEastAsianCharset"],[61,59,73,57],[61,60,73,58],[61,64,73,62],[61,65,73,63,"data"],[61,69,73,67],[61,70,73,68],[62,6,74,4],[62,7,74,5],[62,13,74,11],[63,8,75,6],[63,12,75,10],[63,13,75,11,"data"],[63,17,75,15],[63,20,75,18,"collapseWhiteSpaces"],[63,39,75,37],[63,40,75,38],[63,44,75,42],[63,45,75,43,"data"],[63,49,75,47],[63,50,75,48],[64,6,76,4],[65,4,77,2],[66,4,79,2],[66,11,79,9],[66,15,79,13],[67,2,80,0],[67,3,80,1],[68,2,82,0],[68,6,82,4,"_default"],[68,14,82,12],[68,17,82,15,"TTextCtor"],[68,26,82,24],[69,2,83,0,"exports"],[69,9,83,7],[69,10,83,8,"default"],[69,17,83,15],[69,20,83,18,"_default"],[69,28,83,26],[70,0,83,27],[70,3]],"functionMap":{"names":["<global>","_interopRequireDefault","TText","_TNodeCtor._default$argument_2.data.get","_TNodeCtor._default$argument_2.data.set","matchContentModel","isCollapsibleLeft","isCollapsibleRight","isEmpty","trimLeft","trimRight","collapseChildren"],"mappings":"AAA;ACe,+FD;kBEK;CFG;IGM;KHE;IIE;KJE;wCKK;CLE;wCME;CNE;yCOE;CPE;8BQE;CRG;+BSE;CTI;gCUE;CVI;uCWE;CXU"},"hasCjsExports":true},"type":"js/module"}]}