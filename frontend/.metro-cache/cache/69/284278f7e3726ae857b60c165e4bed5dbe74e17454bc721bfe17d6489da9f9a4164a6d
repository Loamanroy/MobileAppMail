{"dependencies":[{"name":"domhandler","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":18,"index":125},"end":{"line":8,"column":39,"index":146}}],"key":"f5LnrKpjJRzkG16BHIFRqK+96ok=","exportNames":["*"],"imports":1}},{"name":"./dom-utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":16,"index":165},"end":{"line":10,"column":38,"index":187}}],"key":"Pw+eJI2crNoinUejh5sZ+HLIBPk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _domhandler = require(_dependencyMap[0], \"domhandler\");\n  var _domUtils = require(_dependencyMap[1], \"./dom-utils\");\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  class DomHandler extends _domhandler.DomHandler {\n    constructor(options) {\n      super(undefined, options, undefined);\n      _defineProperty(this, \"ignoredTags\", void 0);\n      _defineProperty(this, \"ignoredTagsCount\", -1);\n      _defineProperty(this, \"visitors\", void 0);\n      let ignoredTags = {};\n      for (const tag of options.ignoredTags || []) {\n        ignoredTags[tag] = true;\n      }\n      this.ignoredTags = ignoredTags;\n      this.visitors = options.visitors || {};\n      const isIgnored = this.isIgnored.bind(this);\n      if (options.ignoreNode) {\n        this.isIgnored = node => {\n          return isIgnored(node) || options.ignoreNode(node, this.tagStack[this.tagStack.length - 1]);\n        };\n      }\n    }\n    isIgnored(node) {\n      return this.ignoredTags[node.name] || this.ignoredTagsCount > -1;\n    }\n    addNode(node) {\n      if (this.isIgnored(node) === true) {\n        // increment only for elements.\n        if ((0, _domUtils.isDomElement)(node)) {\n          this.ignoredTagsCount++;\n        }\n      } else {\n        super.addNode(node);\n        if ((0, _domUtils.isDomText)(node)) {\n          var _this$visitors$onText, _this$visitors;\n          (_this$visitors$onText = (_this$visitors = this.visitors).onText) === null || _this$visitors$onText === void 0 ? void 0 : _this$visitors$onText.call(_this$visitors, node);\n        }\n      }\n    }\n    ontext(text) {\n      // Only include text when out of an\n      // ignoring session.\n      if (this.ignoredTagsCount < 0) {\n        super.ontext(text);\n      }\n    }\n    onopentag(name, attribs) {\n      super.onopentag(name, attribs);\n    }\n    onclosetag() {\n      var _this$visitors$onElem, _this$visitors2;\n\n      // Call onElement on close to give access to this node children\n      (_this$visitors$onElem = (_this$visitors2 = this.visitors).onElement) === null || _this$visitors$onElem === void 0 ? void 0 : _this$visitors$onElem.call(_this$visitors2, this.tagStack[this.tagStack.length - 1]);\n      super.onclosetag();\n      if (this.ignoredTagsCount > -1) {\n        this.ignoredTagsCount--;\n      }\n    }\n    onend() {\n      var _this$visitors$onDocu, _this$visitors3;\n      (_this$visitors$onDocu = (_this$visitors3 = this.visitors).onDocument) === null || _this$visitors$onDocu === void 0 ? void 0 : _this$visitors$onDocu.call(_this$visitors3, this.root);\n    }\n  }\n  exports.default = DomHandler;\n});","lineCount":85,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,15],[7,20,6,18],[7,25,6,23],[7,26,6,24],[8,2,8,0],[8,6,8,4,"_domhandler"],[8,17,8,15],[8,20,8,18,"require"],[8,27,8,25],[8,28,8,25,"_dependencyMap"],[8,42,8,25],[8,59,8,38],[8,60,8,39],[9,2,10,0],[9,6,10,4,"_domUtils"],[9,15,10,13],[9,18,10,16,"require"],[9,25,10,23],[9,26,10,23,"_dependencyMap"],[9,40,10,23],[9,58,10,37],[9,59,10,38],[10,2,12,0],[10,11,12,9,"_defineProperty"],[10,26,12,24,"_defineProperty"],[10,27,12,25,"obj"],[10,30,12,28],[10,32,12,30,"key"],[10,35,12,33],[10,37,12,35,"value"],[10,42,12,40],[10,44,12,42],[11,4,12,44],[11,8,12,48,"key"],[11,11,12,51],[11,15,12,55,"obj"],[11,18,12,58],[11,20,12,60],[12,6,12,62,"Object"],[12,12,12,68],[12,13,12,69,"defineProperty"],[12,27,12,83],[12,28,12,84,"obj"],[12,31,12,87],[12,33,12,89,"key"],[12,36,12,92],[12,38,12,94],[13,8,12,96,"value"],[13,13,12,101],[13,15,12,103,"value"],[13,20,12,108],[14,8,12,110,"enumerable"],[14,18,12,120],[14,20,12,122],[14,24,12,126],[15,8,12,128,"configurable"],[15,20,12,140],[15,22,12,142],[15,26,12,146],[16,8,12,148,"writable"],[16,16,12,156],[16,18,12,158],[17,6,12,163],[17,7,12,164],[17,8,12,165],[18,4,12,167],[18,5,12,168],[18,11,12,174],[19,6,12,176,"obj"],[19,9,12,179],[19,10,12,180,"key"],[19,13,12,183],[19,14,12,184],[19,17,12,187,"value"],[19,22,12,192],[20,4,12,194],[21,4,12,196],[21,11,12,203,"obj"],[21,14,12,206],[22,2,12,208],[23,2,14,0],[23,8,14,6,"DomHandler"],[23,18,14,16],[23,27,14,25,"_domhandler"],[23,38,14,36],[23,39,14,37,"DomHandler"],[23,49,14,47],[23,50,14,48],[24,4,15,2,"constructor"],[24,15,15,13,"constructor"],[24,16,15,14,"options"],[24,23,15,21],[24,25,15,23],[25,6,16,4],[25,11,16,9],[25,12,16,10,"undefined"],[25,21,16,19],[25,23,16,21,"options"],[25,30,16,28],[25,32,16,30,"undefined"],[25,41,16,39],[25,42,16,40],[26,6,18,4,"_defineProperty"],[26,21,18,19],[26,22,18,20],[26,26,18,24],[26,28,18,26],[26,41,18,39],[26,43,18,41],[26,48,18,46],[26,49,18,47],[26,50,18,48],[27,6,20,4,"_defineProperty"],[27,21,20,19],[27,22,20,20],[27,26,20,24],[27,28,20,26],[27,46,20,44],[27,48,20,46],[27,49,20,47],[27,50,20,48],[27,51,20,49],[28,6,22,4,"_defineProperty"],[28,21,22,19],[28,22,22,20],[28,26,22,24],[28,28,22,26],[28,38,22,36],[28,40,22,38],[28,45,22,43],[28,46,22,44],[28,47,22,45],[29,6,24,4],[29,10,24,8,"ignoredTags"],[29,21,24,19],[29,24,24,22],[29,25,24,23],[29,26,24,24],[30,6,26,4],[30,11,26,9],[30,17,26,15,"tag"],[30,20,26,18],[30,24,26,22,"options"],[30,31,26,29],[30,32,26,30,"ignoredTags"],[30,43,26,41],[30,47,26,45],[30,49,26,47],[30,51,26,49],[31,8,27,6,"ignoredTags"],[31,19,27,17],[31,20,27,18,"tag"],[31,23,27,21],[31,24,27,22],[31,27,27,25],[31,31,27,29],[32,6,28,4],[33,6,30,4],[33,10,30,8],[33,11,30,9,"ignoredTags"],[33,22,30,20],[33,25,30,23,"ignoredTags"],[33,36,30,34],[34,6,31,4],[34,10,31,8],[34,11,31,9,"visitors"],[34,19,31,17],[34,22,31,20,"options"],[34,29,31,27],[34,30,31,28,"visitors"],[34,38,31,36],[34,42,31,40],[34,43,31,41],[34,44,31,42],[35,6,32,4],[35,12,32,10,"isIgnored"],[35,21,32,19],[35,24,32,22],[35,28,32,26],[35,29,32,27,"isIgnored"],[35,38,32,36],[35,39,32,37,"bind"],[35,43,32,41],[35,44,32,42],[35,48,32,46],[35,49,32,47],[36,6,34,4],[36,10,34,8,"options"],[36,17,34,15],[36,18,34,16,"ignoreNode"],[36,28,34,26],[36,30,34,28],[37,8,35,6],[37,12,35,10],[37,13,35,11,"isIgnored"],[37,22,35,20],[37,25,35,23,"node"],[37,29,35,27],[37,33,35,31],[38,10,36,8],[38,17,36,15,"isIgnored"],[38,26,36,24],[38,27,36,25,"node"],[38,31,36,29],[38,32,36,30],[38,36,36,34,"options"],[38,43,36,41],[38,44,36,42,"ignoreNode"],[38,54,36,52],[38,55,36,53,"node"],[38,59,36,57],[38,61,36,59],[38,65,36,63],[38,66,36,64,"tagStack"],[38,74,36,72],[38,75,36,73],[38,79,36,77],[38,80,36,78,"tagStack"],[38,88,36,86],[38,89,36,87,"length"],[38,95,36,93],[38,98,36,96],[38,99,36,97],[38,100,36,98],[38,101,36,99],[39,8,37,6],[39,9,37,7],[40,6,38,4],[41,4,39,2],[42,4,41,2,"isIgnored"],[42,13,41,11,"isIgnored"],[42,14,41,12,"node"],[42,18,41,16],[42,20,41,18],[43,6,42,4],[43,13,42,11],[43,17,42,15],[43,18,42,16,"ignoredTags"],[43,29,42,27],[43,30,42,28,"node"],[43,34,42,32],[43,35,42,33,"name"],[43,39,42,37],[43,40,42,38],[43,44,42,42],[43,48,42,46],[43,49,42,47,"ignoredTagsCount"],[43,65,42,63],[43,68,42,66],[43,69,42,67],[43,70,42,68],[44,4,43,2],[45,4,45,2,"addNode"],[45,11,45,9,"addNode"],[45,12,45,10,"node"],[45,16,45,14],[45,18,45,16],[46,6,46,4],[46,10,46,8],[46,14,46,12],[46,15,46,13,"isIgnored"],[46,24,46,22],[46,25,46,23,"node"],[46,29,46,27],[46,30,46,28],[46,35,46,33],[46,39,46,37],[46,41,46,39],[47,8,47,6],[48,8,48,6],[48,12,48,10],[48,13,48,11],[48,14,48,12],[48,16,48,14,"_domUtils"],[48,25,48,23],[48,26,48,24,"isDomElement"],[48,38,48,36],[48,40,48,38,"node"],[48,44,48,42],[48,45,48,43],[48,47,48,45],[49,10,49,8],[49,14,49,12],[49,15,49,13,"ignoredTagsCount"],[49,31,49,29],[49,33,49,31],[50,8,50,6],[51,6,51,4],[51,7,51,5],[51,13,51,11],[52,8,52,6],[52,13,52,11],[52,14,52,12,"addNode"],[52,21,52,19],[52,22,52,20,"node"],[52,26,52,24],[52,27,52,25],[53,8,54,6],[53,12,54,10],[53,13,54,11],[53,14,54,12],[53,16,54,14,"_domUtils"],[53,25,54,23],[53,26,54,24,"isDomText"],[53,35,54,33],[53,37,54,35,"node"],[53,41,54,39],[53,42,54,40],[53,44,54,42],[54,10,55,8],[54,14,55,12,"_this$visitors$onText"],[54,35,55,33],[54,37,55,35,"_this$visitors"],[54,51,55,49],[55,10,57,8],[55,11,57,9,"_this$visitors$onText"],[55,32,57,30],[55,35,57,33],[55,36,57,34,"_this$visitors"],[55,50,57,48],[55,53,57,51],[55,57,57,55],[55,58,57,56,"visitors"],[55,66,57,64],[55,68,57,66,"onText"],[55,74,57,72],[55,80,57,78],[55,84,57,82],[55,88,57,86,"_this$visitors$onText"],[55,109,57,107],[55,114,57,112],[55,119,57,117],[55,120,57,118],[55,123,57,121],[55,128,57,126],[55,129,57,127],[55,132,57,130,"_this$visitors$onText"],[55,153,57,151],[55,154,57,152,"call"],[55,158,57,156],[55,159,57,157,"_this$visitors"],[55,173,57,171],[55,175,57,173,"node"],[55,179,57,177],[55,180,57,178],[56,8,58,6],[57,6,59,4],[58,4,60,2],[59,4,62,2,"ontext"],[59,10,62,8,"ontext"],[59,11,62,9,"text"],[59,15,62,13],[59,17,62,15],[60,6,63,4],[61,6,64,4],[62,6,65,4],[62,10,65,8],[62,14,65,12],[62,15,65,13,"ignoredTagsCount"],[62,31,65,29],[62,34,65,32],[62,35,65,33],[62,37,65,35],[63,8,66,6],[63,13,66,11],[63,14,66,12,"ontext"],[63,20,66,18],[63,21,66,19,"text"],[63,25,66,23],[63,26,66,24],[64,6,67,4],[65,4,68,2],[66,4,70,2,"onopentag"],[66,13,70,11,"onopentag"],[66,14,70,12,"name"],[66,18,70,16],[66,20,70,18,"attribs"],[66,27,70,25],[66,29,70,27],[67,6,71,4],[67,11,71,9],[67,12,71,10,"onopentag"],[67,21,71,19],[67,22,71,20,"name"],[67,26,71,24],[67,28,71,26,"attribs"],[67,35,71,33],[67,36,71,34],[68,4,72,2],[69,4,74,2,"onclosetag"],[69,14,74,12,"onclosetag"],[69,15,74,12],[69,17,74,15],[70,6,75,4],[70,10,75,8,"_this$visitors$onElem"],[70,31,75,29],[70,33,75,31,"_this$visitors2"],[70,48,75,46],[72,6,77,4],[73,6,78,4],[73,7,78,5,"_this$visitors$onElem"],[73,28,78,26],[73,31,78,29],[73,32,78,30,"_this$visitors2"],[73,47,78,45],[73,50,78,48],[73,54,78,52],[73,55,78,53,"visitors"],[73,63,78,61],[73,65,78,63,"onElement"],[73,74,78,72],[73,80,78,78],[73,84,78,82],[73,88,78,86,"_this$visitors$onElem"],[73,109,78,107],[73,114,78,112],[73,119,78,117],[73,120,78,118],[73,123,78,121],[73,128,78,126],[73,129,78,127],[73,132,78,130,"_this$visitors$onElem"],[73,153,78,151],[73,154,78,152,"call"],[73,158,78,156],[73,159,78,157,"_this$visitors2"],[73,174,78,172],[73,176,78,174],[73,180,78,178],[73,181,78,179,"tagStack"],[73,189,78,187],[73,190,78,188],[73,194,78,192],[73,195,78,193,"tagStack"],[73,203,78,201],[73,204,78,202,"length"],[73,210,78,208],[73,213,78,211],[73,214,78,212],[73,215,78,213],[73,216,78,214],[74,6,79,4],[74,11,79,9],[74,12,79,10,"onclosetag"],[74,22,79,20],[74,23,79,21],[74,24,79,22],[75,6,81,4],[75,10,81,8],[75,14,81,12],[75,15,81,13,"ignoredTagsCount"],[75,31,81,29],[75,34,81,32],[75,35,81,33],[75,36,81,34],[75,38,81,36],[76,8,82,6],[76,12,82,10],[76,13,82,11,"ignoredTagsCount"],[76,29,82,27],[76,31,82,29],[77,6,83,4],[78,4,84,2],[79,4,86,2,"onend"],[79,9,86,7,"onend"],[79,10,86,7],[79,12,86,10],[80,6,87,4],[80,10,87,8,"_this$visitors$onDocu"],[80,31,87,29],[80,33,87,31,"_this$visitors3"],[80,48,87,46],[81,6,89,4],[81,7,89,5,"_this$visitors$onDocu"],[81,28,89,26],[81,31,89,29],[81,32,89,30,"_this$visitors3"],[81,47,89,45],[81,50,89,48],[81,54,89,52],[81,55,89,53,"visitors"],[81,63,89,61],[81,65,89,63,"onDocument"],[81,75,89,73],[81,81,89,79],[81,85,89,83],[81,89,89,87,"_this$visitors$onDocu"],[81,110,89,108],[81,115,89,113],[81,120,89,118],[81,121,89,119],[81,124,89,122],[81,129,89,127],[81,130,89,128],[81,133,89,131,"_this$visitors$onDocu"],[81,154,89,152],[81,155,89,153,"call"],[81,159,89,157],[81,160,89,158,"_this$visitors3"],[81,175,89,173],[81,177,89,175],[81,181,89,179],[81,182,89,180,"root"],[81,186,89,184],[81,187,89,185],[82,4,90,2],[83,2,92,0],[84,2,94,0,"exports"],[84,9,94,7],[84,10,94,8,"default"],[84,17,94,15],[84,20,94,18,"DomHandler"],[84,30,94,28],[85,0,94,29],[85,3]],"functionMap":{"names":["<global>","_defineProperty","DomHandler","constructor","isIgnored","addNode","ontext","onopentag","onclosetag","onend"],"mappings":"AAA;ACW,iND;AEE;ECC;uBCoB;ODE;GDE;EEE;GFE;EGE;GHe;EIE;GJM;EKE;GLE;EME;GNU;EOE;GPI;CFE"},"hasCjsExports":true},"type":"js/module"}]}