{"dependencies":[{"name":"../tree/TBlockCtor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"QSgwsWq3mkiPNW2Icnee5Yk640I=","exportNames":["*"],"imports":1}},{"name":"../tree/TPhrasingCtor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":109},"end":{"line":3,"column":54,"index":163}}],"key":"9i+Obxae0cY+daabR8oaLHoBfx0=","exportNames":["*"],"imports":1}},{"name":"../tree/TTextCtor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":164},"end":{"line":4,"column":46,"index":210}}],"key":"bc19m38rJ9J/2g9308L7dtIMIjQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.hoist = hoist;\n  var _treeTBlockCtor = require(_dependencyMap[0], \"../tree/TBlockCtor\");\n  var TBlockCtor = _interopDefault(_treeTBlockCtor);\n  var _treeTPhrasingCtor = require(_dependencyMap[1], \"../tree/TPhrasingCtor\");\n  var _treeTTextCtor = require(_dependencyMap[2], \"../tree/TTextCtor\");\n  /**\n   * Wrap text nodes around TPhrasing nodes.\n   * @param tnode The parent node of all elements to group.\n   */\n  function groupText(tnode) {\n    var newChildren = [];\n    var wrapperInit = {\n      elementModel: null,\n      context: tnode.init.context,\n      // We need to merge styles here to make sure\n      // some React Native styles working only for the uppermost Text element\n      // such as \"textAlign\" are preserved.\n      parentStyles: tnode.styles,\n      parent: null\n    };\n    var wrapper = new _treeTPhrasingCtor.TPhrasingCtor(wrapperInit);\n    var wrapperChildren = [];\n    for (var child of tnode.children) {\n      if (child instanceof _treeTTextCtor.TTextCtor || child instanceof _treeTPhrasingCtor.TPhrasingCtor) {\n        wrapperChildren.push(child);\n      } else {\n        if (wrapperChildren.length) {\n          newChildren.push(wrapper);\n          wrapper.bindChildren(wrapperChildren);\n          wrapper = new _treeTPhrasingCtor.TPhrasingCtor(wrapperInit);\n          wrapperChildren = [];\n        }\n        newChildren.push(child);\n      }\n    }\n    if (wrapperChildren.length) {\n      wrapper.bindChildren(wrapperChildren);\n      newChildren.push(wrapper);\n    }\n    tnode.bindChildren(newChildren);\n    return tnode;\n  }\n  function hoistNode(tnode) {\n    if (tnode instanceof _treeTTextCtor.TTextCtor) {\n      return tnode;\n    }\n    tnode.bindChildren(tnode.children.map(hoistNode));\n    if (tnode instanceof _treeTPhrasingCtor.TPhrasingCtor) {\n      for (var cnode of tnode.children) {\n        if (cnode instanceof TBlockCtor.default) {\n          var newNode = new TBlockCtor.default(tnode.cloneInitParams());\n          newNode.bindChildren(tnode.children);\n          var output = groupText(newNode);\n          return output;\n        }\n      }\n    } else if (tnode instanceof TBlockCtor.default) {\n      if (tnode.children.length > 0) {\n        var _output = groupText(tnode);\n        return _output;\n      }\n    }\n    return tnode;\n  }\n  function hoist(tree) {\n    return hoistNode(tree);\n  }\n});","lineCount":79,"map":[[12,2,67,0,"exports"],[12,9,67,0],[12,10,67,0,"hoist"],[12,15,67,0],[12,18,67,0,"hoist"],[12,23,67,0],[13,2,1,0],[13,6,1,0,"_treeTBlockCtor"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,1,0],[14,6,1,0,"TBlockCtor"],[14,16,1,0],[14,19,1,0,"_interopDefault"],[14,34,1,0],[14,35,1,0,"_treeTBlockCtor"],[14,50,1,0],[15,2,3,0],[15,6,3,0,"_treeTPhrasingCtor"],[15,24,3,0],[15,27,3,0,"require"],[15,34,3,0],[15,35,3,0,"_dependencyMap"],[15,49,3,0],[16,2,4,0],[16,6,4,0,"_treeTTextCtor"],[16,20,4,0],[16,23,4,0,"require"],[16,30,4,0],[16,31,4,0,"_dependencyMap"],[16,45,4,0],[17,2,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,2,10,0],[21,11,10,9,"groupText"],[21,20,10,18,"groupText"],[21,21,10,19,"tnode"],[21,26,10,36],[21,28,10,49],[22,4,11,2],[22,8,11,6,"newChildren"],[22,19,11,30],[22,22,11,33],[22,24,11,35],[23,4,12,2],[23,8,12,8,"wrapperInit"],[23,19,12,19],[23,22,12,22],[24,6,13,4,"elementModel"],[24,18,13,16],[24,20,13,18],[24,24,13,22],[25,6,14,4,"context"],[25,13,14,11],[25,15,14,13,"tnode"],[25,20,14,18],[25,21,14,19,"init"],[25,25,14,23],[25,26,14,24,"context"],[25,33,14,31],[26,6,15,4],[27,6,16,4],[28,6,17,4],[29,6,18,4,"parentStyles"],[29,18,18,16],[29,20,18,18,"tnode"],[29,25,18,23],[29,26,18,24,"styles"],[29,32,18,30],[30,6,19,4,"parent"],[30,12,19,10],[30,14,19,12],[31,4,20,2],[31,5,20,3],[32,4,21,2],[32,8,21,6,"wrapper"],[32,15,21,13],[32,18,21,16],[32,22,21,20,"TPhrasingCtor"],[32,40,21,33],[32,41,21,33,"TPhrasingCtor"],[32,54,21,33],[32,55,21,34,"wrapperInit"],[32,66,21,45],[32,67,21,46],[33,4,22,2],[33,8,22,6,"wrapperChildren"],[33,23,22,34],[33,26,22,37],[33,28,22,39],[34,4,23,2],[34,9,23,7],[34,13,23,13,"child"],[34,18,23,18],[34,22,23,22,"tnode"],[34,27,23,27],[34,28,23,28,"children"],[34,36,23,36],[34,38,23,38],[35,6,24,4],[35,10,24,8,"child"],[35,15,24,13],[35,27,24,25,"TTextCtor"],[35,41,24,34],[35,42,24,34,"TTextCtor"],[35,51,24,34],[35,55,24,38,"child"],[35,60,24,43],[35,72,24,55,"TPhrasingCtor"],[35,90,24,68],[35,91,24,68,"TPhrasingCtor"],[35,104,24,68],[35,106,24,70],[36,8,25,6,"wrapperChildren"],[36,23,25,21],[36,24,25,22,"push"],[36,28,25,26],[36,29,25,27,"child"],[36,34,25,32],[36,35,25,33],[37,6,26,4],[37,7,26,5],[37,13,26,11],[38,8,27,6],[38,12,27,10,"wrapperChildren"],[38,27,27,25],[38,28,27,26,"length"],[38,34,27,32],[38,36,27,34],[39,10,28,8,"newChildren"],[39,21,28,19],[39,22,28,20,"push"],[39,26,28,24],[39,27,28,25,"wrapper"],[39,34,28,32],[39,35,28,33],[40,10,29,8,"wrapper"],[40,17,29,15],[40,18,29,16,"bindChildren"],[40,30,29,28],[40,31,29,29,"wrapperChildren"],[40,46,29,44],[40,47,29,45],[41,10,30,8,"wrapper"],[41,17,30,15],[41,20,30,18],[41,24,30,22,"TPhrasingCtor"],[41,42,30,35],[41,43,30,35,"TPhrasingCtor"],[41,56,30,35],[41,57,30,36,"wrapperInit"],[41,68,30,47],[41,69,30,48],[42,10,31,8,"wrapperChildren"],[42,25,31,23],[42,28,31,26],[42,30,31,28],[43,8,32,6],[44,8,33,6,"newChildren"],[44,19,33,17],[44,20,33,18,"push"],[44,24,33,22],[44,25,33,23,"child"],[44,30,33,28],[44,31,33,29],[45,6,34,4],[46,4,35,2],[47,4,36,2],[47,8,36,6,"wrapperChildren"],[47,23,36,21],[47,24,36,22,"length"],[47,30,36,28],[47,32,36,30],[48,6,37,4,"wrapper"],[48,13,37,11],[48,14,37,12,"bindChildren"],[48,26,37,24],[48,27,37,25,"wrapperChildren"],[48,42,37,40],[48,43,37,41],[49,6,38,4,"newChildren"],[49,17,38,15],[49,18,38,16,"push"],[49,22,38,20],[49,23,38,21,"wrapper"],[49,30,38,28],[49,31,38,29],[50,4,39,2],[51,4,40,2,"tnode"],[51,9,40,7],[51,10,40,8,"bindChildren"],[51,22,40,20],[51,23,40,21,"newChildren"],[51,34,40,32],[51,35,40,33],[52,4,41,2],[52,11,41,9,"tnode"],[52,16,41,14],[53,2,42,0],[54,2,44,0],[54,11,44,9,"hoistNode"],[54,20,44,18,"hoistNode"],[54,21,44,19,"tnode"],[54,26,44,35],[54,28,44,48],[55,4,45,2],[55,8,45,6,"tnode"],[55,13,45,11],[55,25,45,23,"TTextCtor"],[55,39,45,32],[55,40,45,32,"TTextCtor"],[55,49,45,32],[55,51,45,34],[56,6,46,4],[56,13,46,11,"tnode"],[56,18,46,16],[57,4,47,2],[58,4,48,2,"tnode"],[58,9,48,7],[58,10,48,8,"bindChildren"],[58,22,48,20],[58,23,48,21,"tnode"],[58,28,48,26],[58,29,48,27,"children"],[58,37,48,35],[58,38,48,36,"map"],[58,41,48,39],[58,42,48,40,"hoistNode"],[58,51,48,49],[58,52,48,50],[58,53,48,51],[59,4,49,2],[59,8,49,6,"tnode"],[59,13,49,11],[59,25,49,23,"TPhrasingCtor"],[59,43,49,36],[59,44,49,36,"TPhrasingCtor"],[59,57,49,36],[59,59,49,38],[60,6,50,4],[60,11,50,9],[60,15,50,15,"cnode"],[60,20,50,20],[60,24,50,24,"tnode"],[60,29,50,29],[60,30,50,30,"children"],[60,38,50,38],[60,40,50,40],[61,8,51,6],[61,12,51,10,"cnode"],[61,17,51,15],[61,29,51,27,"TBlockCtor"],[61,39,51,37],[61,40,51,37,"default"],[61,47,51,37],[61,49,51,39],[62,10,52,8],[62,14,52,14,"newNode"],[62,21,52,21],[62,24,52,24],[62,28,52,28,"TBlockCtor"],[62,38,52,38],[62,39,52,38,"default"],[62,46,52,38],[62,47,52,39,"tnode"],[62,52,52,44],[62,53,52,45,"cloneInitParams"],[62,68,52,60],[62,69,52,61],[62,70,52,62],[62,71,52,63],[63,10,53,8,"newNode"],[63,17,53,15],[63,18,53,16,"bindChildren"],[63,30,53,28],[63,31,53,29,"tnode"],[63,36,53,34],[63,37,53,35,"children"],[63,45,53,43],[63,46,53,44],[64,10,54,8],[64,14,54,14,"output"],[64,20,54,20],[64,23,54,23,"groupText"],[64,32,54,32],[64,33,54,33,"newNode"],[64,40,54,40],[64,41,54,41],[65,10,55,8],[65,17,55,15,"output"],[65,23,55,21],[66,8,56,6],[67,6,57,4],[68,4,58,2],[68,5,58,3],[68,11,58,9],[68,15,58,13,"tnode"],[68,20,58,18],[68,32,58,30,"TBlockCtor"],[68,42,58,40],[68,43,58,40,"default"],[68,50,58,40],[68,52,58,42],[69,6,59,4],[69,10,59,8,"tnode"],[69,15,59,13],[69,16,59,14,"children"],[69,24,59,22],[69,25,59,23,"length"],[69,31,59,29],[69,34,59,32],[69,35,59,33],[69,37,59,35],[70,8,60,6],[70,12,60,12,"output"],[70,19,60,18],[70,22,60,21,"groupText"],[70,31,60,30],[70,32,60,31,"tnode"],[70,37,60,36],[70,38,60,37],[71,8,61,6],[71,15,61,13,"output"],[71,22,61,19],[72,6,62,4],[73,4,63,2],[74,4,64,2],[74,11,64,9,"tnode"],[74,16,64,14],[75,2,65,0],[76,2,67,7],[76,11,67,16,"hoist"],[76,16,67,21,"hoist"],[76,17,67,22,"tree"],[76,21,67,37],[76,23,67,50],[77,4,68,2],[77,11,68,9,"hoistNode"],[77,20,68,18],[77,21,68,19,"tree"],[77,25,68,23],[77,26,68,24],[78,2,69,0],[79,0,69,1],[79,3]],"functionMap":{"names":["<global>","groupText","hoistNode","hoist"],"mappings":"AAA;ACS;CDgC;AEE;CFqB;OGE;CHE"},"hasCjsExports":false},"type":"js/module"}]}