{"dependencies":[{"name":"../tree/TBlockCtor","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":41,"index":145},"end":{"line":8,"column":70,"index":174}}],"key":"/q88JuiyfARFpKpJ0W6qcHsAb9Q=","exportNames":["*"],"imports":1}},{"name":"../tree/TPhrasingCtor","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":21,"index":199},"end":{"line":10,"column":53,"index":231}}],"key":"yY4pArrvWJZtJIC3f8cXwhbuM0Q=","exportNames":["*"],"imports":1}},{"name":"../tree/TTextCtor","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":17,"index":251},"end":{"line":12,"column":45,"index":279}}],"key":"PLv8wWJ0+6Ie83ttiQUQdoKe8fs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.hoist = hoist;\n  var _TBlockCtor = _interopRequireDefault(require(_dependencyMap[0], \"../tree/TBlockCtor\"));\n  var _TPhrasingCtor = require(_dependencyMap[1], \"../tree/TPhrasingCtor\");\n  var _TTextCtor = require(_dependencyMap[2], \"../tree/TTextCtor\");\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  /**\n   * Wrap text nodes around TPhrasing nodes.\n   * @param tnode The parent node of all elements to group.\n   */\n  function groupText(tnode) {\n    let newChildren = [];\n    const wrapperInit = {\n      elementModel: null,\n      context: tnode.init.context,\n      // We need to merge styles here to make sure\n      // some React Native styles working only for the uppermost Text element\n      // such as \"textAlign\" are preserved.\n      parentStyles: tnode.styles,\n      parent: null\n    };\n    let wrapper = new _TPhrasingCtor.TPhrasingCtor(wrapperInit);\n    let wrapperChildren = [];\n    for (const child of tnode.children) {\n      if (child instanceof _TTextCtor.TTextCtor || child instanceof _TPhrasingCtor.TPhrasingCtor) {\n        wrapperChildren.push(child);\n      } else {\n        if (wrapperChildren.length) {\n          newChildren.push(wrapper);\n          wrapper.bindChildren(wrapperChildren);\n          wrapper = new _TPhrasingCtor.TPhrasingCtor(wrapperInit);\n          wrapperChildren = [];\n        }\n        newChildren.push(child);\n      }\n    }\n    if (wrapperChildren.length) {\n      wrapper.bindChildren(wrapperChildren);\n      newChildren.push(wrapper);\n    }\n    tnode.bindChildren(newChildren);\n    return tnode;\n  }\n  function hoistNode(tnode) {\n    if (tnode instanceof _TTextCtor.TTextCtor) {\n      return tnode;\n    }\n    tnode.bindChildren(tnode.children.map(hoistNode));\n    if (tnode instanceof _TPhrasingCtor.TPhrasingCtor) {\n      for (const cnode of tnode.children) {\n        if (cnode instanceof _TBlockCtor.default) {\n          const newNode = new _TBlockCtor.default(tnode.cloneInitParams());\n          newNode.bindChildren(tnode.children);\n          const output = groupText(newNode);\n          return output;\n        }\n      }\n    } else if (tnode instanceof _TBlockCtor.default) {\n      if (tnode.children.length > 0) {\n        const output = groupText(tnode);\n        return output;\n      }\n    }\n    return tnode;\n  }\n  function hoist(tree) {\n    return hoistNode(tree);\n  }\n});","lineCount":79,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"hoist"],[7,15,6,13],[7,18,6,16,"hoist"],[7,23,6,21],[8,2,8,0],[8,6,8,4,"_TBlockCtor"],[8,17,8,15],[8,20,8,18,"_interopRequireDefault"],[8,42,8,40],[8,43,8,41,"require"],[8,50,8,48],[8,51,8,48,"_dependencyMap"],[8,65,8,48],[8,90,8,69],[8,91,8,70],[8,92,8,71],[9,2,10,0],[9,6,10,4,"_TPhrasingCtor"],[9,20,10,18],[9,23,10,21,"require"],[9,30,10,28],[9,31,10,28,"_dependencyMap"],[9,45,10,28],[9,73,10,52],[9,74,10,53],[10,2,12,0],[10,6,12,4,"_TTextCtor"],[10,16,12,14],[10,19,12,17,"require"],[10,26,12,24],[10,27,12,24,"_dependencyMap"],[10,41,12,24],[10,65,12,44],[10,66,12,45],[11,2,14,0],[11,11,14,9,"_interopRequireDefault"],[11,33,14,31,"_interopRequireDefault"],[11,34,14,32,"obj"],[11,37,14,35],[11,39,14,37],[12,4,14,39],[12,11,14,46,"obj"],[12,14,14,49],[12,18,14,53,"obj"],[12,21,14,56],[12,22,14,57,"__esModule"],[12,32,14,67],[12,35,14,70,"obj"],[12,38,14,73],[12,41,14,76],[13,6,14,78,"default"],[13,13,14,85],[13,15,14,87,"obj"],[14,4,14,91],[14,5,14,92],[15,2,14,94],[17,2,16,0],[18,0,17,0],[19,0,18,0],[20,0,19,0],[21,2,20,0],[21,11,20,9,"groupText"],[21,20,20,18,"groupText"],[21,21,20,19,"tnode"],[21,26,20,24],[21,28,20,26],[22,4,21,2],[22,8,21,6,"newChildren"],[22,19,21,17],[22,22,21,20],[22,24,21,22],[23,4,22,2],[23,10,22,8,"wrapperInit"],[23,21,22,19],[23,24,22,22],[24,6,23,4,"elementModel"],[24,18,23,16],[24,20,23,18],[24,24,23,22],[25,6,24,4,"context"],[25,13,24,11],[25,15,24,13,"tnode"],[25,20,24,18],[25,21,24,19,"init"],[25,25,24,23],[25,26,24,24,"context"],[25,33,24,31],[26,6,25,4],[27,6,26,4],[28,6,27,4],[29,6,28,4,"parentStyles"],[29,18,28,16],[29,20,28,18,"tnode"],[29,25,28,23],[29,26,28,24,"styles"],[29,32,28,30],[30,6,29,4,"parent"],[30,12,29,10],[30,14,29,12],[31,4,30,2],[31,5,30,3],[32,4,31,2],[32,8,31,6,"wrapper"],[32,15,31,13],[32,18,31,16],[32,22,31,20,"_TPhrasingCtor"],[32,36,31,34],[32,37,31,35,"TPhrasingCtor"],[32,50,31,48],[32,51,31,49,"wrapperInit"],[32,62,31,60],[32,63,31,61],[33,4,32,2],[33,8,32,6,"wrapperChildren"],[33,23,32,21],[33,26,32,24],[33,28,32,26],[34,4,34,2],[34,9,34,7],[34,15,34,13,"child"],[34,20,34,18],[34,24,34,22,"tnode"],[34,29,34,27],[34,30,34,28,"children"],[34,38,34,36],[34,40,34,38],[35,6,35,4],[35,10,35,8,"child"],[35,15,35,13],[35,27,35,25,"_TTextCtor"],[35,37,35,35],[35,38,35,36,"TTextCtor"],[35,47,35,45],[35,51,35,49,"child"],[35,56,35,54],[35,68,35,66,"_TPhrasingCtor"],[35,82,35,80],[35,83,35,81,"TPhrasingCtor"],[35,96,35,94],[35,98,35,96],[36,8,36,6,"wrapperChildren"],[36,23,36,21],[36,24,36,22,"push"],[36,28,36,26],[36,29,36,27,"child"],[36,34,36,32],[36,35,36,33],[37,6,37,4],[37,7,37,5],[37,13,37,11],[38,8,38,6],[38,12,38,10,"wrapperChildren"],[38,27,38,25],[38,28,38,26,"length"],[38,34,38,32],[38,36,38,34],[39,10,39,8,"newChildren"],[39,21,39,19],[39,22,39,20,"push"],[39,26,39,24],[39,27,39,25,"wrapper"],[39,34,39,32],[39,35,39,33],[40,10,40,8,"wrapper"],[40,17,40,15],[40,18,40,16,"bindChildren"],[40,30,40,28],[40,31,40,29,"wrapperChildren"],[40,46,40,44],[40,47,40,45],[41,10,41,8,"wrapper"],[41,17,41,15],[41,20,41,18],[41,24,41,22,"_TPhrasingCtor"],[41,38,41,36],[41,39,41,37,"TPhrasingCtor"],[41,52,41,50],[41,53,41,51,"wrapperInit"],[41,64,41,62],[41,65,41,63],[42,10,42,8,"wrapperChildren"],[42,25,42,23],[42,28,42,26],[42,30,42,28],[43,8,43,6],[44,8,45,6,"newChildren"],[44,19,45,17],[44,20,45,18,"push"],[44,24,45,22],[44,25,45,23,"child"],[44,30,45,28],[44,31,45,29],[45,6,46,4],[46,4,47,2],[47,4,49,2],[47,8,49,6,"wrapperChildren"],[47,23,49,21],[47,24,49,22,"length"],[47,30,49,28],[47,32,49,30],[48,6,50,4,"wrapper"],[48,13,50,11],[48,14,50,12,"bindChildren"],[48,26,50,24],[48,27,50,25,"wrapperChildren"],[48,42,50,40],[48,43,50,41],[49,6,51,4,"newChildren"],[49,17,51,15],[49,18,51,16,"push"],[49,22,51,20],[49,23,51,21,"wrapper"],[49,30,51,28],[49,31,51,29],[50,4,52,2],[51,4,54,2,"tnode"],[51,9,54,7],[51,10,54,8,"bindChildren"],[51,22,54,20],[51,23,54,21,"newChildren"],[51,34,54,32],[51,35,54,33],[52,4,55,2],[52,11,55,9,"tnode"],[52,16,55,14],[53,2,56,0],[54,2,58,0],[54,11,58,9,"hoistNode"],[54,20,58,18,"hoistNode"],[54,21,58,19,"tnode"],[54,26,58,24],[54,28,58,26],[55,4,59,2],[55,8,59,6,"tnode"],[55,13,59,11],[55,25,59,23,"_TTextCtor"],[55,35,59,33],[55,36,59,34,"TTextCtor"],[55,45,59,43],[55,47,59,45],[56,6,60,4],[56,13,60,11,"tnode"],[56,18,60,16],[57,4,61,2],[58,4,63,2,"tnode"],[58,9,63,7],[58,10,63,8,"bindChildren"],[58,22,63,20],[58,23,63,21,"tnode"],[58,28,63,26],[58,29,63,27,"children"],[58,37,63,35],[58,38,63,36,"map"],[58,41,63,39],[58,42,63,40,"hoistNode"],[58,51,63,49],[58,52,63,50],[58,53,63,51],[59,4,65,2],[59,8,65,6,"tnode"],[59,13,65,11],[59,25,65,23,"_TPhrasingCtor"],[59,39,65,37],[59,40,65,38,"TPhrasingCtor"],[59,53,65,51],[59,55,65,53],[60,6,66,4],[60,11,66,9],[60,17,66,15,"cnode"],[60,22,66,20],[60,26,66,24,"tnode"],[60,31,66,29],[60,32,66,30,"children"],[60,40,66,38],[60,42,66,40],[61,8,67,6],[61,12,67,10,"cnode"],[61,17,67,15],[61,29,67,27,"_TBlockCtor"],[61,40,67,38],[61,41,67,39,"default"],[61,48,67,46],[61,50,67,48],[62,10,68,8],[62,16,68,14,"newNode"],[62,23,68,21],[62,26,68,24],[62,30,68,28,"_TBlockCtor"],[62,41,68,39],[62,42,68,40,"default"],[62,49,68,47],[62,50,68,48,"tnode"],[62,55,68,53],[62,56,68,54,"cloneInitParams"],[62,71,68,69],[62,72,68,70],[62,73,68,71],[62,74,68,72],[63,10,69,8,"newNode"],[63,17,69,15],[63,18,69,16,"bindChildren"],[63,30,69,28],[63,31,69,29,"tnode"],[63,36,69,34],[63,37,69,35,"children"],[63,45,69,43],[63,46,69,44],[64,10,70,8],[64,16,70,14,"output"],[64,22,70,20],[64,25,70,23,"groupText"],[64,34,70,32],[64,35,70,33,"newNode"],[64,42,70,40],[64,43,70,41],[65,10,71,8],[65,17,71,15,"output"],[65,23,71,21],[66,8,72,6],[67,6,73,4],[68,4,74,2],[68,5,74,3],[68,11,74,9],[68,15,74,13,"tnode"],[68,20,74,18],[68,32,74,30,"_TBlockCtor"],[68,43,74,41],[68,44,74,42,"default"],[68,51,74,49],[68,53,74,51],[69,6,75,4],[69,10,75,8,"tnode"],[69,15,75,13],[69,16,75,14,"children"],[69,24,75,22],[69,25,75,23,"length"],[69,31,75,29],[69,34,75,32],[69,35,75,33],[69,37,75,35],[70,8,76,6],[70,14,76,12,"output"],[70,20,76,18],[70,23,76,21,"groupText"],[70,32,76,30],[70,33,76,31,"tnode"],[70,38,76,36],[70,39,76,37],[71,8,77,6],[71,15,77,13,"output"],[71,21,77,19],[72,6,78,4],[73,4,79,2],[74,4,81,2],[74,11,81,9,"tnode"],[74,16,81,14],[75,2,82,0],[76,2,84,0],[76,11,84,9,"hoist"],[76,16,84,14,"hoist"],[76,17,84,15,"tree"],[76,21,84,19],[76,23,84,21],[77,4,85,2],[77,11,85,9,"hoistNode"],[77,20,85,18],[77,21,85,19,"tree"],[77,25,85,23],[77,26,85,24],[78,2,86,0],[79,0,86,1],[79,3]],"functionMap":{"names":["<global>","_interopRequireDefault","groupText","hoistNode","hoist"],"mappings":"AAA;ACa,+FD;AEM;CFoC;AGE;CHwB;AIE;CJE"},"hasCjsExports":true},"type":"js/module"}]}